// SPDX-License-Identifier: MediaTekProprietary AND BSD-3-Clause
#include <arch_helpers.h>
#include <arch.h>
#include <bakery_lock.h>
#include <console.h>
#include <debug.h>
#include <mmio.h>
#include <mt_spm.h>
#include <mt_spm_dpidle.h>
#include <mt_spm_idle.h>
#include <mt_spm_internal.h>
#include <mt_spm_reg.h>
#include <mt_spm_mcdi.h>
#include <plat_pm.h>
#include <platform_def.h>
#include <plat_private.h>
#include <scu.h>
#include <stddef.h>
#include <stdio.h>
#include <string.h>
#include <mtk_plat_common.h>
#include <mtk_gic.h>

#define DRAMC_REG_ARBCTL	0x1022c010

/*
 * System Power Manager (SPM) is a hardware module, which controls cpu or
 * system power for different power scenarios using different firmware, i.e.,
 * - spm_hotplug.c for cpu power control in cpu hotplug flow.
 * - spm_mcdi.c for cpu power control in cpu idle power saving state.
 * - spm_suspend.c for system power control in system suspend scenario.
 *
 * This file provide utility functions common to hotplug, mcdi(idle), suspend
 * power scenarios. A bakery lock (software lock) is incoporated to protect
 * certain critical sections to avoid kicking different SPM firmware
 * concurrently.
 */

DEFINE_BAKERY_LOCK(spm_lock);

static const uint32_t suspend_binary[] = {
	0x814a1801, 0xd80002e5, 0x17c07c1f, 0xa1d58407, 0xa1d70407, 0x81f68407,
	0x1a50001f, 0x10006150, 0x1880001f, 0x10006ab8, 0x18f00002, 0x17c07c1f,
	0x80fb8403, 0xe0800003, 0x88c00003, 0x00ffffff, 0xa8c00003, 0x02000000,
	0xe0800003, 0x803a0400, 0x1b80001f, 0x20000000, 0x80300400, 0x80328400,
	0x814a1801, 0xd80005e5, 0x17c07c1f, 0xa1d28407, 0x81f20407, 0x814a9801,
	0xd8000565, 0x17c07c1f, 0x18c0001f, 0x10006634, 0x19300003, 0x17c07c1f,
	0x02a01009, 0x18c0001f, 0x10006630, 0x19700003, 0x17c07c1f, 0x0240140a,
	0xe0c00009, 0x81f88407, 0xe8208000, 0x10006614, 0x20000000, 0x81431801,
	0xd80006a5, 0x17c07c1f, 0x80318400, 0x17c07c1f, 0x17c07c1f, 0x814a1801,
	0xd8200965, 0x17c07c1f, 0x1950001f, 0x1000660c, 0x80851401, 0xd8200962,
	0x17c07c1f, 0x1880001f, 0x10006ab8, 0x18f00002, 0x17c07c1f, 0x80fb0403,
	0xe0800003, 0x1b80001f, 0x20000088, 0x1880001f, 0x10006ab4, 0x18f00002,
	0x17c07c1f, 0x80ff8403, 0xe0800003, 0x80809401, 0xd8200a82, 0x17c07c1f,
	0x18c0001f, 0x100050b4, 0x111f841f, 0xe0c00004, 0x1b80001f, 0x200027dc,
	0x1a10001f, 0x1000667c, 0x1950001f, 0x1000660c, 0x80831401, 0xd8000ca2,
	0x17c07c1f, 0x1910001f, 0x100066b4, 0x89000004, 0x00000007, 0x1280901f,
	0x0280040a, 0x80819001, 0x0280080a, 0xd0000ca0, 0x17c07c1f, 0x1950001f,
	0x1000660c, 0x80839401, 0xd8000f02, 0x17c07c1f, 0x1910001f, 0x100066b4,
	0x89000004, 0x00000007, 0x1101101f, 0x80841401, 0xd8000e82, 0x17c07c1f,
	0xd0000f00, 0x17c07c1f, 0x18c0001f, 0x100050b4, 0x00d11003, 0xe0c00001,
	0x18c0001f, 0x10006604, 0x1910001f, 0x10006604, 0x80899801, 0x813f8804,
	0x808a1801, 0x813f0804, 0x808a9801, 0x813e0804, 0xe0c00004, 0xc280b4e0,
	0x1290041f, 0xa19d8406, 0xa1dc0407, 0x1b00001f, 0x00000006, 0xf0000000,
	0x17c07c1f, 0x81fc0407, 0x1b00001f, 0xffffffff, 0x81fc8407, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x88c0000c, 0xffffffff, 0xd8201383,
	0x17c07c1f, 0xa1dc0407, 0x1b00001f, 0x00000000, 0xd0002660, 0x17c07c1f,
	0xa1dc0407, 0x1b10001f, 0x10006148, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0xa1dc8407, 0x80d0840c, 0xd8001543, 0x17c07c1f, 0x1b10001f, 0x10006148,
	0xd0002660, 0x17c07c1f, 0x1a10001f, 0x1000667c, 0x1950001f, 0x1000660c,
	0x80831401, 0xd8001722, 0x17c07c1f, 0x1a80001f, 0x00000000, 0xd0001720,
	0x17c07c1f, 0x1a90001f, 0x10006650, 0x1a80001f, 0x00000000, 0x1950001f,
	0x1000660c, 0x80839401, 0xd80018e2, 0x17c07c1f, 0x80841401, 0xd8001862,
	0x17c07c1f, 0xd00018e0, 0x17c07c1f, 0x18c0001f, 0x100050b4, 0x111e041f,
	0xe0c00004, 0x814a1801, 0xd8201d25, 0x17c07c1f, 0x1950001f, 0x1000660c,
	0x80809401, 0xd8201a62, 0x17c07c1f, 0x18c0001f, 0x100050b8, 0x111f841f,
	0xe0c00004, 0x80851401, 0xd8201d22, 0x17c07c1f, 0x1880001f, 0x10006ab8,
	0x18f00002, 0x17c07c1f, 0x88c00003, 0x00ffffff, 0xa8c00003, 0x02000000,
	0xe0800003, 0x1940001f, 0x10006ab4, 0x19300005, 0x17c07c1f, 0xa11f8404,
	0xe1400004, 0xa0db0403, 0xe0800003, 0x1b80001f, 0x20000088, 0x81431801,
	0x80ca1801, 0xa1400c05, 0xd8001de5, 0x17c07c1f, 0xa0118400, 0x81bd8406,
	0xa0128400, 0xa1dc0407, 0x1b00001f, 0x00000001, 0xc280b4e0, 0x1290841f,
	0x80899801, 0xc280b4e0, 0x129f881f, 0x808a1801, 0xc280b4e0, 0x129f081f,
	0x808a9801, 0xc280b4e0, 0x129e081f, 0x814a1801, 0xd8002665, 0x17c07c1f,
	0xa1d88407, 0x1b80001f, 0x20000014, 0x1950001f, 0x10006610, 0x81499401,
	0xd8002285, 0x17c07c1f, 0x814a9801, 0xd8002245, 0x17c07c1f, 0x18c0001f,
	0x10006634, 0x1910001f, 0x10006150, 0xe0c00004, 0xa1d20407, 0x81f28407,
	0xa1d68407, 0x1950001f, 0x10006610, 0x81491401, 0xd8002365, 0x17c07c1f,
	0xa0100400, 0x1950001f, 0x10006610, 0x814a1401, 0xd8002585, 0x17c07c1f,
	0x1880001f, 0x10006ab8, 0x18f00002, 0x17c07c1f, 0x88c00003, 0x00ffffff,
	0xa8c00003, 0x01000000, 0xe0800003, 0xa0db8403, 0xe0800003, 0xa01a0400,
	0x1950001f, 0x10006610, 0x814a9401, 0xd8002665, 0x17c07c1f, 0x81f70407,
	0x81f58407, 0xf0000000, 0x17c07c1f, 0x814a1801, 0xb14098a1, 0xd8002965,
	0x17c07c1f, 0x18c0001f, 0x10006318, 0xc0c095e0, 0x1200041f, 0x1b80001f,
	0x20000022, 0xe8208000, 0x10006614, 0x40000000, 0xe8208000, 0x10006408,
	0x04800303, 0xe8208000, 0x1000640c, 0x06003600, 0xe8208000, 0x100064a0,
	0x00004f04, 0xe8208000, 0x10006614, 0x00000000, 0xc280b4e0, 0x1291041f,
	0xa19e0406, 0xa1dc0407, 0x1b00001f, 0x00000058, 0xe8208000, 0x10006194,
	0x00000001, 0xf0000000, 0x17c07c1f, 0x808a1801, 0xb1409841, 0xd8002da5,
	0x17c07c1f, 0xe8208000, 0x10006194, 0x00000000, 0xe8208000, 0x100064a0,
	0xfff0ef3f, 0xe8208000, 0x1000640c, 0xffffffff, 0xe8208000, 0x10006408,
	0xee83f303, 0x18c0001f, 0x10006318, 0xc0c099c0, 0x17c07c1f, 0xc280b4e0,
	0x1291841f, 0x81be0406, 0xa1dc0407, 0x1b00001f, 0x00000006, 0xf0000000,
	0x17c07c1f, 0x80cf1801, 0xc8e06c63, 0x17c07c1f, 0xc0c09dc0, 0x17c07c1f,
	0xc0c0a520, 0x17c07c1f, 0xc0c0c820, 0x17c07c1f, 0xc0c0d700, 0x17c07c1f,
	0xc0c0cb00, 0x17c07c1f, 0xc0c0d360, 0x17c07c1f, 0xe8208000, 0x10006408,
	0x00000201, 0xe8208000, 0x100064a0, 0x00000000, 0xa1d80407, 0xa1d18407,
	0xc280b4e0, 0x1292041f, 0xa19e8406, 0xa1dc0407, 0x1b00001f, 0x00002120,
	0x18c0001f, 0x10012000, 0x1910001f, 0x10012000, 0xa1000404, 0xe0c00004,
	0x18c0001f, 0x1023f060, 0x19300003, 0x17c07c1f, 0xf0000000, 0x17c07c1f,
	0x81f80407, 0x81f18407, 0x18c0001f, 0x10012000, 0x1910001f, 0x10012000,
	0x81200404, 0xe0c00004, 0xe8208000, 0x10006408, 0x04800303, 0xe8208000,
	0x100064a0, 0x00004f04, 0x80cf9801, 0xc8e0a523, 0x17c07c1f, 0xe8208000,
	0x100066b8, 0x00000020, 0x80c93401, 0xd8203643, 0x17c07c1f, 0xc0c0d5a0,
	0x17c07c1f, 0xa0180400, 0x17c07c1f, 0x17c07c1f, 0x80891801, 0xd82037e2,
	0x17c07c1f, 0xc0c0c9c0, 0x17c07c1f, 0xc0c0ace0, 0x17c07c1f, 0x1a40001f,
	0x10006028, 0xe240000f, 0xd8203ae3, 0x17c07c1f, 0xa1d80407, 0xa1d18407,
	0xc0c0c820, 0x17c07c1f, 0xc0c0d700, 0x17c07c1f, 0xa1dc0407, 0x13007c1f,
	0x81fc0407, 0x18c0001f, 0x10012000, 0x1910001f, 0x10012000, 0xa1000404,
	0xe0c00004, 0xd0003ce0, 0x17c07c1f, 0x1a40001f, 0x10006028, 0xe240001f,
	0xc0c0d120, 0x17c07c1f, 0xc0c0a240, 0x17c07c1f, 0xc0c09ae0, 0x17c07c1f,
	0xc280b4e0, 0x1292841f, 0x81be8406, 0xa19f8406, 0xa1dc0407, 0x1b00001f,
	0x00000090, 0xf0000000, 0x17c07c1f, 0x80cf9801, 0xd8003e03, 0x17c07c1f,
	0xc0c0a520, 0x17c07c1f, 0xc0c0ea40, 0x17c07c1f, 0x1a50001f, 0x1000669c,
	0x8a400009, 0x0000ffff, 0xd8003fe9, 0x17c07c1f, 0xa1dc0407, 0x1890001f,
	0x10006148, 0x18c0001f, 0x00000100, 0xa0c00803, 0x13000c1f, 0xd0006c20,
	0x17c07c1f, 0x81f20407, 0x81f28407, 0x18c0001f, 0x10006604, 0x1910001f,
	0x10006604, 0x89000004, 0xc3ffffff, 0xa11e8404, 0xe0c00004, 0x1890001f,
	0x10006658, 0x88800002, 0x0000ffff, 0x42b00809, 0xa19ba806, 0x1950001f,
	0x10006678, 0x89400005, 0x0000ffff, 0x50f01409, 0x51301402, 0x91601003,
	0xd82054c5, 0x17c07c1f, 0x810b9801, 0xd8204aa4, 0x17c07c1f, 0x81021801,
	0xd8004a44, 0x17c07c1f, 0x1950001f, 0x10006678, 0x1148141f, 0x8a800005,
	0x0000000f, 0x1a10001f, 0x100066b0, 0x81102808, 0xd8004a44, 0x17c07c1f,
	0x18c0001f, 0x10006920, 0x1111041f, 0xa1108404, 0xe0c00004, 0x18c0001f,
	0x1000692c, 0xe0e00d4a, 0x18c0001f, 0x10006920, 0xe0c00001, 0xc0c0ece0,
	0x17c07c1f, 0xc0c0ef80, 0x17c07c1f, 0xc0c0dd00, 0x17c07c1f, 0x1b80001f,
	0x20000110, 0xc0c0e240, 0x17c07c1f, 0xc0c0ea40, 0x17c07c1f, 0xc0c0e880,
	0x17c07c1f, 0x18c0001f, 0x100066b0, 0xe0c0000a, 0x18d0001f, 0x10006920,
	0x81078c01, 0xd82049a4, 0x17c07c1f, 0x18c0001f, 0x10006090, 0x1110841f,
	0xe0c00004, 0x18c0001f, 0x10006920, 0x1111041f, 0xa1108404, 0xe0c00004,
	0x810b9801, 0xd82054c4, 0x17c07c1f, 0x81019801, 0xd8005464, 0x17c07c1f,
	0x1150841f, 0x1290841f, 0x1a10001f, 0x100066b4, 0x81101408, 0xd8005464,
	0x17c07c1f, 0xc0c0dd00, 0x17c07c1f, 0x1a10001f, 0x1000667c, 0x1880001f,
	0x100050b0, 0x18d0001f, 0x100050b0, 0x88c00003, 0xe7ffffff, 0xa0dd8403,
	0xe0800003, 0x1b80001f, 0x200005d9, 0x1b80001f, 0x200005d9, 0x1b80001f,
	0x200005d9, 0xd0004e60, 0x17c07c1f, 0x18d0001f, 0x1000660c, 0x80838c01,
	0x18d0001f, 0x100066b4, 0x81009401, 0x81010c04, 0x81200804, 0xd8205104,
	0x17c07c1f, 0x18d0001f, 0x1000660c, 0x80840c01, 0xd8005082, 0x17c07c1f,
	0xd0005100, 0x17c07c1f, 0x18c0001f, 0x100050b4, 0x111e041f, 0xe0c00004,
	0x1b80001f, 0x200005d9, 0x1b80001f, 0x200005d9, 0x1b80001f, 0x200005d9,
	0xc0c0e240, 0x17c07c1f, 0x1a10001f, 0x100066b4, 0x81000408, 0xd8205364,
	0x17c07c1f, 0xe8208000, 0x10000048, 0x00000002, 0xe8208000, 0x10000004,
	0x00000001, 0x1900001f, 0x100066b4, 0x18d0001f, 0x100066b4, 0x88c00003,
	0x00ffff00, 0xa0d01403, 0xe1000003, 0x810b9801, 0xd8204364, 0x17c07c1f,
	0x810b9801, 0xd8205f24, 0x17c07c1f, 0x81021801, 0xd8005d04, 0x17c07c1f,
	0x18d0001f, 0x10006674, 0x81000c09, 0x1291041f, 0xd8005724, 0x17c07c1f,
	0x18d0001f, 0x10006670, 0x81000c09, 0x1290841f, 0xd8005724, 0x17c07c1f,
	0x1290041f, 0x1a10001f, 0x100066b0, 0x81102808, 0xd8005d04, 0x17c07c1f,
	0x18c0001f, 0x10006920, 0x1111041f, 0xa1108404, 0xe0c00004, 0x18c0001f,
	0x1000692c, 0xe0e00d4a, 0x18c0001f, 0x10006920, 0xe0c00001, 0xc0c0ece0,
	0x17c07c1f, 0xc0c0ef80, 0x17c07c1f, 0xc0c0dd00, 0x17c07c1f, 0x1b80001f,
	0x20000110, 0xc0c0e240, 0x17c07c1f, 0xc0c0ea40, 0x17c07c1f, 0xc0c0e880,
	0x17c07c1f, 0x18c0001f, 0x100066b0, 0xe0c0000a, 0x18d0001f, 0x10006920,
	0x81078c01, 0xd8205c64, 0x17c07c1f, 0x18c0001f, 0x10006090, 0x1110841f,
	0xe0c00004, 0x18c0001f, 0x10006920, 0x1111041f, 0xa1108404, 0xe0c00004,
	0x1950001f, 0x10006664, 0x81001409, 0x80c21001, 0xd8205de3, 0x17c07c1f,
	0x1102101f, 0x18c0001f, 0x10000048, 0x00f11003, 0xe0e00002, 0xe8208000,
	0x10000004, 0x00000001, 0x810b9801, 0xd8206ba4, 0x17c07c1f, 0x81019801,
	0xd8006b44, 0x17c07c1f, 0x1950001f, 0x10006660, 0x81001409, 0x1151841f,
	0xd8006244, 0x17c07c1f, 0x1950001f, 0x1000666c, 0x81001409, 0x1151041f,
	0xa2908401, 0xd8006244, 0x17c07c1f, 0x1950001f, 0x10006668, 0x81001409,
	0x1150841f, 0x1290841f, 0xd8006244, 0x17c07c1f, 0x1150041f, 0x1280041f,
	0x1a10001f, 0x100066b4, 0x81101408, 0xd8006b44, 0x17c07c1f, 0xc0c0dd00,
	0x17c07c1f, 0x1a10001f, 0x1000667c, 0x18d0001f, 0x1000660c, 0x80800c01,
	0xd8006482, 0x17c07c1f, 0xd0006660, 0x17c07c1f, 0xd0006660, 0x17c07c1f,
	0x80811401, 0x80c19401, 0xa2800c02, 0x80809401, 0x80c19401, 0xa0800c02,
	0xa290a802, 0x1880001f, 0x100050b0, 0x18d0001f, 0x100050b0, 0x88c00003,
	0xe7ffffff, 0xa0dda803, 0xe0800003, 0x1a90001f, 0x1000660c, 0x8083a801,
	0x1a90001f, 0x100066b4, 0x80c12801, 0x81011401, 0xa0c01003, 0x80e00803,
	0xd8206983, 0x17c07c1f, 0x0a800004, 0x00000004, 0x18d0001f, 0x1000660c,
	0x80840c01, 0xd80068e2, 0x17c07c1f, 0xd0006980, 0x17c07c1f, 0x18c0001f,
	0x100050b4, 0x00d11003, 0x111e041f, 0xe0c00004, 0x1b80001f, 0x200005d9,
	0x1b80001f, 0x200005d9, 0xc0c0e240, 0x17c07c1f, 0x1900001f, 0x100066b4,
	0x18d0001f, 0x100066b4, 0x88c00003, 0x00ffff00, 0xa0d01403, 0xe1000003,
	0x810b9801, 0xd8205524, 0x17c07c1f, 0xc0c0d900, 0x17c07c1f, 0xa1d28407,
	0x81f20407, 0xf0000000, 0x17c07c1f, 0x18c0001f, 0x1000644c, 0x19300003,
	0x17c07c1f, 0x81320404, 0xe0c00004, 0x1880001f, 0x100062bc, 0x19700002,
	0x17c07c1f, 0x81748405, 0xe0800005, 0x80390400, 0x1b80001f, 0x20000044,
	0x81340404, 0xe0c00004, 0x81760405, 0xe0800005, 0x803c0400, 0x1b80001f,
	0x200005d9, 0x81f98407, 0x81730405, 0xe0800005, 0x81718405, 0xe0800005,
	0x81700405, 0xe0800005, 0x80350400, 0x81f90407, 0x1392841f, 0x81f40407,
	0x1391841f, 0xc280b4e0, 0x1293041f, 0xa19f0406, 0xa1dc0407, 0x1b00001f,
	0x00000090, 0x18c0001f, 0x10006194, 0xe0e00003, 0x814a1801, 0xd82077e5,
	0x17c07c1f, 0x1950001f, 0x1000660c, 0x80891401, 0xd82077e2, 0x17c07c1f,
	0x1880001f, 0x10001088, 0x10d3841f, 0xe0800003, 0x1880001f, 0x100010c0,
	0x10d7841f, 0xe0800003, 0x81f20407, 0x81f28407, 0x1880001f, 0x10006ab8,
	0x18f00002, 0x17c07c1f, 0x80fb0403, 0xe0800003, 0x1b80001f, 0x20000088,
	0x1880001f, 0x10006ab4, 0x18f00002, 0x17c07c1f, 0x80ff8403, 0xe0800003,
	0x1880001f, 0x1000108c, 0x10d3841f, 0xe0800003, 0x1880001f, 0x100010c4,
	0x10d7841f, 0xe0800003, 0x1880001f, 0x1100100c, 0xe0a00c00, 0x1880001f,
	0x11001008, 0xe0a00c00, 0x1880001f, 0x1100100c, 0xe0a00c00, 0xf0000000,
	0x17c07c1f, 0x1950001f, 0x10006610, 0x81489401, 0xd80080e5, 0x17c07c1f,
	0x814a1801, 0xd8207ea5, 0x17c07c1f, 0x1950001f, 0x1000660c, 0x80891401,
	0xd8207ea2, 0x17c07c1f, 0x81f20407, 0x81f28407, 0x1880001f, 0x10001088,
	0x10d3841f, 0xe0800003, 0x1880001f, 0x100010c0, 0x10d7841f, 0xe0800003,
	0x1880001f, 0x10006ab8, 0x18f00002, 0x17c07c1f, 0x88c00003, 0x00ffffff,
	0xa8c00003, 0x02000000, 0xe0800003, 0x1940001f, 0x10006ab4, 0x19300005,
	0x17c07c1f, 0xa11f8404, 0xe1400004, 0xa0db0403, 0xe0800003, 0x1b80001f,
	0x20000088, 0x1880001f, 0x1000108c, 0x10d3841f, 0xe0800003, 0x1880001f,
	0x100010c4, 0x10d7841f, 0xe0800003, 0xa1d28407, 0x81f20407, 0xe8208000,
	0x10006194, 0x00000001, 0xa1d40407, 0x1391841f, 0xa1d90407, 0x1392841f,
	0xa1d98407, 0x18c0001f, 0x1000644c, 0x19300003, 0x17c07c1f, 0xa1000404,
	0xe0c00004, 0xa1140404, 0xe0c00004, 0xa1120404, 0xe0c00004, 0x1950001f,
	0x10006610, 0x81441401, 0xd8008345, 0x17c07c1f, 0x18c0001f, 0x100062bc,
	0x19300003, 0x17c07c1f, 0xa1100404, 0xe0c00004, 0xa1118404, 0xe0c00004,
	0xa1130404, 0xe0c00004, 0xa1160404, 0xe0c00004, 0xa1148404, 0xe0c00004,
	0x1950001f, 0x10006610, 0x81481401, 0xd8008445, 0x17c07c1f, 0xa0150400,
	0xa01c0400, 0xa0190400, 0xc280b4e0, 0x1293841f, 0x81bf0406, 0xa1dc0407,
	0x1b00001f, 0x00000058, 0x810a9801, 0x81471801, 0x81601404, 0xd82085e5,
	0x17c07c1f, 0x1b00001f, 0x00000050, 0xf0000000, 0x17c07c1f, 0x80cf1801,
	0xc8e06c63, 0x17c07c1f, 0xc0c0a520, 0x17c07c1f, 0xc0c0d700, 0x17c07c1f,
	0xc280b4e0, 0x1294041f, 0xa19f8406, 0xc0c093a0, 0x17c07c1f, 0xa1d18407,
	0xf0000000, 0x17c07c1f, 0x81f18407, 0xc0c0d5a0, 0x17c07c1f, 0x80cfb401,
	0xd8208903, 0x17c07c1f, 0xd00092c0, 0x17c07c1f, 0xc0c0ace0, 0x17c07c1f,
	0x1a40001f, 0x10006028, 0xe240000f, 0xd8208ba3, 0x17c07c1f, 0xc0c0d700,
	0x17c07c1f, 0xa1d18407, 0x1900001f, 0x1000665c, 0x18d0001f, 0x10017008,
	0xe1000003, 0x17c07c1f, 0xa1dc0407, 0x13007c1f, 0x81fc0407, 0xd0009360,
	0x17c07c1f, 0x1a40001f, 0x10006028, 0xe240001f, 0x80cfb401, 0xd8208e63,
	0x17c07c1f, 0xa0180400, 0x17c07c1f, 0x17c07c1f, 0x81f08407, 0x1900001f,
	0x1000665c, 0x18d0001f, 0x10017008, 0xe1000003, 0x17c07c1f, 0x824ab401,
	0xd8008da9, 0x17c07c1f, 0x80380400, 0xd00092c0, 0x17c07c1f, 0xc080a240,
	0x17c07c1f, 0x80cfb401, 0xd8209043, 0x17c07c1f, 0xc080a520, 0x17c07c1f,
	0x1900001f, 0x1000665c, 0x18d0001f, 0x10017008, 0xe1000003, 0x17c07c1f,
	0xd00092c0, 0x17c07c1f, 0xc280b4e0, 0x1294841f, 0x81bf8406, 0x1950001f,
	0x1000660c, 0x80869401, 0xd8209182, 0x17c07c1f, 0xc0c07820, 0x17c07c1f,
	0xa1dc0407, 0x1b00001f, 0x00001120, 0x81461801, 0xd8209285, 0x17c07c1f,
	0x1b00001f, 0x00001100, 0xd0009360, 0x17c07c1f, 0xc0c0d700, 0x17c07c1f,
	0xa1d18407, 0xc0c093a0, 0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x1a40001f,
	0x00002100, 0x814a9801, 0x81461805, 0xd80094a5, 0x17c07c1f, 0x1a40001f,
	0x00002120, 0x81fc8407, 0xd820958c, 0x17c07c1f, 0xe8208000, 0x100060b0,
	0x00000001, 0x12407c1f, 0x1300241f, 0xf0000000, 0x17c07c1f, 0xe0f07f16,
	0x1380201f, 0xe0f07f1e, 0x1380201f, 0xe0f07f0e, 0xe0f07f0c, 0x1900001f,
	0x10006354, 0xe12000fe, 0xe12000fc, 0xe12000f8, 0xe12000f0, 0xe12000e0,
	0xe12000c0, 0xe1200080, 0xe1200000, 0x1b80001f, 0x200002a8, 0xe0f07f0d,
	0xe0f07e0d, 0x1b80001f, 0x20000044, 0xe0f07c0d, 0x1b80001f, 0x20000044,
	0xe0f0780d, 0x1b80001f, 0x20000044, 0xe0f0700d, 0xf0000000, 0x17c07c1f,
	0x1900001f, 0x10006354, 0xe12000ff, 0xe0f07f0d, 0xe0f07f0f, 0xe0f07f1e,
	0xe0f07f12, 0xf0000000, 0x17c07c1f, 0x1950001f, 0x10006610, 0x81479401,
	0xd8009ba5, 0x17c07c1f, 0x80378400, 0x81411801, 0xd8009d85, 0x17c07c1f,
	0x18c0001f, 0x1000631c, 0xe0e0010d, 0xe0e0030d, 0xe0e0070d, 0xe0e00f0d,
	0x1b80001f, 0x20000044, 0xe0e00f0f, 0xe0e00f1f, 0xe0e00f1e, 0xe0e00f12,
	0xf0000000, 0x17c07c1f, 0x81411801, 0xd8009fc5, 0x17c07c1f, 0x18c0001f,
	0x1000631c, 0xe0e00f16, 0xe0e00f1e, 0xe0e00f0e, 0x1b80001f, 0x20000044,
	0xe0e00f0c, 0xe0e00f0d, 0xe0e0070d, 0xe0e0030d, 0xe0e0010d, 0xe0e0000d,
	0xa0188400, 0x1b80001f, 0x20000002, 0xa0198400, 0x1b80001f, 0x20000002,
	0x80398400, 0x1b80001f, 0x20000005, 0x80388400, 0x1950001f, 0x10006610,
	0x81479401, 0xd800a205, 0x17c07c1f, 0xa0178400, 0x1b80001f, 0x20000201,
	0xf0000000, 0x17c07c1f, 0xa1da0407, 0xa1d38407, 0xa0130400, 0xa0138400,
	0xa0110400, 0xe8208000, 0x10006644, 0x00000001, 0x80340400, 0x80360400,
	0x80368400, 0xe8208000, 0x10006468, 0xfffc0000, 0xe8208000, 0x10006468,
	0xfff00000, 0xe8208000, 0x10006468, 0xffc00000, 0x80370400, 0xf0000000,
	0x17c07c1f, 0xa0170400, 0xe8208000, 0x10006468, 0xffc30000, 0xe8208000,
	0x10006468, 0xffcf0000, 0xe8208000, 0x10006468, 0xffff0000, 0xa0168400,
	0xa0180400, 0xa0160400, 0x1b80001f, 0x20000018, 0xa0140400, 0x1b80001f,
	0x2000001f, 0x80330400, 0x80310400, 0x1b80001f, 0x2000000b, 0xe8208000,
	0x10006648, 0x00000001, 0xe8208000, 0x100066b8, 0x00000000, 0x80338400,
	0x81fa0407, 0x81f38407, 0x808c9801, 0xd820ab82, 0x17c07c1f, 0x1950001f,
	0x100060ec, 0x89400005, 0x00000004, 0x18c0001f, 0x100060ec, 0xe0c00005,
	0x1890001f, 0x10006610, 0x80820801, 0xd820ab42, 0x17c07c1f, 0x1b80001f,
	0x200027dc, 0xe0c0001f, 0xd000aba0, 0x17c07c1f, 0x81f08407, 0x824ab401,
	0xd800aba9, 0x17c07c1f, 0xa01b8400, 0x1b80001f, 0x20000008, 0x803b8400,
	0x80380400, 0xf0000000, 0x17c07c1f, 0x1111841f, 0x808c9801, 0xd820af62,
	0x17c07c1f, 0x1950001f, 0x1000660c, 0x80821401, 0x1950001f, 0x100060ec,
	0xd820aea2, 0x17c07c1f, 0xa1508405, 0xd000aec0, 0x17c07c1f, 0xa1500405,
	0x18c0001f, 0x100060ec, 0xe0c00005, 0xd000af80, 0x17c07c1f, 0xa1d08407,
	0xd820b044, 0x17c07c1f, 0x80eab401, 0xd800af83, 0x17c07c1f, 0x01200404,
	0xd820b2e3, 0x17c07c1f, 0x1940001f, 0x100060ec, 0xe140001f, 0x81f08407,
	0xe8208000, 0x100060b0, 0x00000001, 0x1900001f, 0x10006780, 0x19700004,
	0x17c07c1f, 0xa1500405, 0xe1000005, 0x824ab401, 0xd800b229, 0x17c07c1f,
	0x80380400, 0xd000b4a0, 0x17c07c1f, 0x80380400, 0x808c9801, 0x1950001f,
	0x1000660c, 0x81021401, 0x80801002, 0xd820b4a2, 0x17c07c1f, 0x1940001f,
	0x100060ec, 0x1a50001f, 0x100060ec, 0xa2510809, 0xe1400009, 0xf0000000,
	0x17c07c1f, 0x18c0001f, 0x10006604, 0x1910001f, 0x10006604, 0xa1002804,
	0xe0c00004, 0xf0000000, 0x17c07c1f, 0x1930000a, 0x17c07c1f, 0x81318404,
	0xe2800004, 0x81310404, 0xe2800004, 0x1950001f, 0x10006180, 0x80c51401,
	0x80812801, 0xd800b782, 0x17c07c1f, 0x80c49401, 0xd800b6a3, 0x17c07c1f,
	0x81300404, 0xe2800004, 0xf0000000, 0x17c07c1f, 0x1930000a, 0x17c07c1f,
	0xa1100404, 0xe2800004, 0xa1110404, 0xe2800004, 0x1950001f, 0x10006180,
	0x80c51401, 0x80812801, 0xd800b9e2, 0x17c07c1f, 0x80c49401, 0xd820b903,
	0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x18c0001f, 0x1020002c, 0x19300003,
	0x17c07c1f, 0xa1120404, 0xa1128404, 0xe0c00004, 0x18c0001f, 0x10200788,
	0x19300003, 0x17c07c1f, 0xa1108404, 0xa11c8404, 0xe0c00004, 0x18c0001f,
	0x10006174, 0x19300003, 0x17c07c1f, 0x810a1001, 0xd820bc24, 0x17c07c1f,
	0xe8208000, 0x1000640c, 0x04003400, 0xa1d10407, 0x1b80001f, 0x20000052,
	0x1b80001f, 0x20000044, 0x18d0001f, 0x1000616c, 0x88c00003, 0x04003400,
	0x69200003, 0x04003400, 0xd800bfa4, 0x17c07c1f, 0x1880001f, 0x10006028,
	0xe0b02db1, 0xd000be00, 0x17c07c1f, 0x1930000a, 0x17c07c1f, 0x81318404,
	0xe2800004, 0x1950001f, 0x10006610, 0x81409401, 0x18c0001f, 0x100062b8,
	0x18b00003, 0x17c07c1f, 0x80b00402, 0xa0901402, 0xe0c00002, 0x81310404,
	0xe2800004, 0x1b80001f, 0x20000044, 0x1950001f, 0x10006180, 0x80c41401,
	0xd800c1e3, 0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x1930000a, 0x17c07c1f,
	0xa1110404, 0xe2800004, 0x1950001f, 0x10006180, 0x80c41401, 0xd820c343,
	0x17c07c1f, 0xe8208000, 0x1000640c, 0x00000000, 0x1b80001f, 0x20000044,
	0x18d0001f, 0x1000616c, 0x88c00003, 0x04003400, 0xd820c5e3, 0x17c07c1f,
	0x1880001f, 0x10006028, 0xe0b02db8, 0xd000c480, 0x17c07c1f, 0x18c0001f,
	0x1020002c, 0x19300003, 0x17c07c1f, 0x81320404, 0x81328404, 0xe0c00004,
	0x18c0001f, 0x10200788, 0x19300003, 0x17c07c1f, 0x81308404, 0x813c8404,
	0xe0c00004, 0x1b80001f, 0x200005d9, 0xf0000000, 0x17c07c1f, 0x80891801,
	0xd820c982, 0x17c07c1f, 0x18c0001f, 0x10234284, 0x1910001f, 0x10234284,
	0xa11a0404, 0xe0c00004, 0x1910001f, 0x10234284, 0xf0000000, 0x17c07c1f,
	0x18c0001f, 0x10234284, 0x1910001f, 0x10234284, 0x813a0404, 0xe0c00004,
	0x1910001f, 0x10234284, 0xf0000000, 0x17c07c1f, 0x808c9801, 0xd800d0e2,
	0x17c07c1f, 0x1910001f, 0x1022c064, 0xa9000004, 0x00000020, 0x1940001f,
	0x1022c064, 0xe1400004, 0x1910001f, 0x1022c05c, 0x88c00004, 0xf3e000ff,
	0xa9000003, 0x00000400, 0x1940001f, 0x1022c05c, 0xe1400004, 0x1910001f,
	0x1022c060, 0xa9000004, 0x00000002, 0x1940001f, 0x1022c060, 0xe1400004,
	0x10c07c1f, 0x1910001f, 0x1022e088, 0x88c00004, 0x00000002, 0xd820ce63,
	0x17c07c1f, 0x1910001f, 0x1022c060, 0x89000004, 0xfffffffd, 0x1940001f,
	0x1022c060, 0xe1400004, 0x1910001f, 0x1022c064, 0x89000004, 0xffffffdf,
	0x1940001f, 0x1022c064, 0xe1400004, 0xf0000000, 0x17c07c1f, 0x1a40001f,
	0x1022f3fc, 0x19300009, 0x17c07c1f, 0xa1100404, 0xe2400004, 0x19300009,
	0x17c07c1f, 0x1a40001f, 0x102393fc, 0x19300009, 0x17c07c1f, 0xa1100404,
	0xe2400004, 0x19300009, 0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x1a40001f,
	0x1022f3fc, 0x19300009, 0x17c07c1f, 0x81300404, 0xe2400004, 0x19300009,
	0x17c07c1f, 0x1a40001f, 0x102393fc, 0x19300009, 0x17c07c1f, 0x81300404,
	0xe2400004, 0x19300009, 0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x80889801,
	0xd820d6c2, 0x17c07c1f, 0x1890001f, 0x1022c22c, 0x18c0001f, 0x1022c22c,
	0x80bf8402, 0xe0c00002, 0xf0000000, 0x17c07c1f, 0x80889801, 0xd820d8c2,
	0x17c07c1f, 0x80cf8001, 0xa0cf0003, 0xd800d8c3, 0x17c07c1f, 0x125f841f,
	0x1910001f, 0x1022c22c, 0xa1002404, 0x1940001f, 0x1022c22c, 0xe1400004,
	0xf0000000, 0x17c07c1f, 0x1900001f, 0x100066a4, 0xe1000009, 0x81f30407,
	0x81bb8406, 0x18c0001f, 0x10006658, 0x1890001f, 0x10006658, 0x809f8402,
	0xa0802402, 0xe0c00002, 0x18c0001f, 0x10006780, 0xe0c00002, 0xe100001f,
	0x81059801, 0xd820dbe4, 0x17c07c1f, 0x1880001f, 0x10006090, 0x10d3841f,
	0xe0800003, 0xa1dc0407, 0x1890001f, 0x10006148, 0x18c0001f, 0x00000100,
	0xa0c00803, 0x13000c1f, 0xf0000000, 0x17c07c1f, 0xa0180400, 0x1b80001f,
	0x20000004, 0x18c0001f, 0x10006478, 0x1910001f, 0x10006478, 0x89000004,
	0xfffffefe, 0xe0c00004, 0x1b80001f, 0x20000004, 0x18c0001f, 0x10006478,
	0x1910001f, 0x10006478, 0xa9000004, 0x00000404, 0xe0c00004, 0x1b80001f,
	0x20000004, 0x18c0001f, 0x10006478, 0x1910001f, 0x10006478, 0xa9000004,
	0x00000202, 0xe0c00004, 0x1b80001f, 0x20000004, 0x18c0001f, 0x10006478,
	0x1910001f, 0x10006478, 0xa9000004, 0x00000101, 0xe0c00004, 0x1b80001f,
	0x20000004, 0x80380400, 0xf0000000, 0x17c07c1f, 0xa0180400, 0x1b80001f,
	0x20000004, 0x18c0001f, 0x10006478, 0x1910001f, 0x10006478, 0x89000004,
	0xfffffefe, 0xe0c00004, 0x1b80001f, 0x20000004, 0x18c0001f, 0x10006478,
	0x1910001f, 0x10006478, 0xa9000004, 0x00000404, 0xe0c00004, 0x1b80001f,
	0x20000004, 0x80889801, 0xd820e822, 0x17c07c1f, 0x80cf8001, 0x810f0001,
	0xa0c01003, 0xd800e823, 0x17c07c1f, 0x18c0001f, 0x10006478, 0x1910001f,
	0x10006478, 0x89000004, 0xfffffdfd, 0xe0c00004, 0x1b80001f, 0x20000004,
	0x18c0001f, 0x10006478, 0x1910001f, 0x10006478, 0xa9000004, 0x00000101,
	0xe0c00004, 0x1b80001f, 0x20000004, 0x80380400, 0xf0000000, 0x17c07c1f,
	0x808c9801, 0xd800e9a2, 0x17c07c1f, 0x18c0001f, 0x1022c064, 0x1910001f,
	0x1022c064, 0x813e8404, 0xe0c00004, 0x18c0001f, 0x1000645c, 0xe0c0001f,
	0xf0000000, 0x17c07c1f, 0x80889801, 0xd820eca2, 0x17c07c1f, 0x80358400,
	0x18d0001f, 0x1022c0e4, 0x10c08c1f, 0x89000003, 0x00000003, 0xd800eca4,
	0x17c07c1f, 0x18c0001f, 0x1022c22c, 0x1910001f, 0x1022c22c, 0xa11f8404,
	0xe0c00004, 0x1910001f, 0x1022c22c, 0xf0000000, 0x17c07c1f, 0x18c0001f,
	0x1000645c, 0x1900001f, 0x0000001f, 0xe0c00004, 0x803d0400, 0x803d8400,
	0x8111040a, 0x803f0400, 0x803f8400, 0xd800ef44, 0x17c07c1f, 0x8110840a,
	0xa01f0400, 0x803f8400, 0xd800ef44, 0x17c07c1f, 0x803f0400, 0xa01f8400,
	0xf0000000, 0x17c07c1f, 0x820c1801, 0x91bc0406, 0xd800f208, 0x17c07c1f,
	0x18c0001f, 0x10006604, 0x1910001f, 0x10006604, 0xa11c0404, 0xe0c00004,
	0xa01d0400, 0x1b80001f, 0x20000022, 0x80889801, 0xd820f1a2, 0x17c07c1f,
	0xa0158400, 0xa01e0400, 0xd000f3c0, 0x17c07c1f, 0x18c0001f, 0x10006604,
	0x1910001f, 0x10006604, 0xa11c8404, 0xe0c00004, 0xa01d8400, 0x1b80001f,
	0x20000022, 0x80889801, 0xd820f3a2, 0x17c07c1f, 0xa0158400, 0xa01e8400,
	0x18c0001f, 0x10006900, 0x1111041f, 0xa1108404, 0xe0c00004, 0x18c0001f,
	0x1000690c, 0xe0e00550, 0x18c0001f, 0x10006900, 0xe0c00001, 0x808c9801,
	0xd800f642, 0x17c07c1f, 0x18c0001f, 0x1022c064, 0x1910001f, 0x1022c064,
	0xa11e8404, 0xe0c00004, 0x80889801, 0xd820f7a2, 0x17c07c1f, 0x18c0001f,
	0x1022c22c, 0x1910001f, 0x1022c22c, 0x813f8404, 0xe0c00004, 0x1910001f,
	0x1022c22c, 0x18d0001f, 0x10006900, 0x81078c01, 0xd820f7a4, 0x17c07c1f,
	0x18c0001f, 0x10006900, 0x1111041f, 0xa1108404, 0xe0c00004, 0x1890001f,
	0x10006658, 0x18c0001f, 0x10006658, 0x90bf8402, 0xe0c00002, 0xa0180400,
	0x1b80001f, 0x20000004, 0x803c8400, 0x1900001f, 0x10006680, 0x18d0001f,
	0x10017008, 0xe1000003, 0x17c07c1f, 0xa01b0400, 0x80cbb401, 0xd820fb03,
	0x17c07c1f, 0x803b0400, 0x80889801, 0xd820fca2, 0x17c07c1f, 0x80cf8001,
	0x810f0001, 0xa0c01003, 0xd800fca3, 0x17c07c1f, 0xa01c8400, 0x80380400,
	0xd800fe28, 0x17c07c1f, 0x803e8400, 0x18c0001f, 0x10006604, 0x1910001f,
	0x10006604, 0x813c0404, 0xe0c00004, 0xd000ff00, 0x17c07c1f, 0x803e0400,
	0x18c0001f, 0x10006604, 0x1910001f, 0x10006604, 0x813c8404, 0xe0c00004,
	0xf0000000, 0x17c07c1f, 0xf0000000, 0x17c07c1f, 0xf0000000, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x1840001f, 0x00000001, 0x1950001f, 0x1000660c,
	0x808f9401, 0xd8011ec2, 0x17c07c1f, 0xd0011ac0, 0x17c07c1f, 0xa1dc0407,
	0x1b00001f, 0x00000000, 0x81fc0407, 0x1b00001f, 0x20000000, 0x81fc8407,
	0x18d0001f, 0x10006180, 0x82048c01, 0x81050c01, 0xa2109008, 0x81040c01,
	0xa2121008, 0x18d0001f, 0x10006174, 0x82400c01, 0x81008c01, 0xa2509009,
	0x1890001f, 0x1000664c, 0x89400002, 0xffff0000, 0x6aa00005, 0xabcd0000,
	0x1880001f, 0x10006654, 0x18d0001f, 0x10006654, 0xd801054a, 0x17c07c1f,
	0xa0c00403, 0xe0800003, 0xd8211aca, 0x17c07c1f, 0x80802408, 0xd8210d62,
	0x17c07c1f, 0x1950001f, 0x1000660c, 0x80c81401, 0xd8010843, 0x17c07c1f,
	0x81000801, 0xd8210844, 0x17c07c1f, 0x1a80001f, 0x10006208, 0xc0c0b5e0,
	0x17c07c1f, 0x82300408, 0x18c0001f, 0x10006780, 0x1910001f, 0x10006780,
	0xa1180404, 0xe0c00004, 0x1890001f, 0x1000664c, 0x89400002, 0xffff0000,
	0x6aa00005, 0xabcd0000, 0x1880001f, 0x10006654, 0x18d0001f, 0x10006654,
	0xd8010a0a, 0x17c07c1f, 0xa0c00403, 0xe0800003, 0xd8211aca, 0x17c07c1f,
	0x1950001f, 0x1000660c, 0x80c89401, 0xd8010d63, 0x17c07c1f, 0x18d0001f,
	0x10006174, 0x82400c01, 0x81008c01, 0xa2509009, 0x80802408, 0x81008801,
	0xd8210d64, 0x17c07c1f, 0x1a80001f, 0x1000620c, 0xc0c0b5e0, 0x17c07c1f,
	0x82308408, 0x18c0001f, 0x10006780, 0x1910001f, 0x10006780, 0xa1188404,
	0xe0c00004, 0x1950001f, 0x1000660c, 0x808c1401, 0xd8211082, 0x17c07c1f,
	0xd801108c, 0x17c07c1f, 0x88800008, 0x0000000f, 0xd8011082, 0x17c07c1f,
	0x80822001, 0xd8211082, 0x17c07c1f, 0x1a80001f, 0x10006204, 0xc0c0ba60,
	0x17c07c1f, 0x82320408, 0x18c0001f, 0x10006780, 0x1910001f, 0x10006780,
	0xa11a0404, 0xe0c00004, 0x80822001, 0xd8011382, 0x17c07c1f, 0x1950001f,
	0x1000660c, 0x808c1401, 0xd8211222, 0x17c07c1f, 0xd8211acc, 0x17c07c1f,
	0x18c0001f, 0x10006608, 0xe0c0000c, 0x1a80001f, 0x10006204, 0xc0c0c2c0,
	0x17c07c1f, 0xa2120408, 0x18c0001f, 0x10006780, 0x1910001f, 0x10006780,
	0xa11e0404, 0xe0c00004, 0x80802001, 0xd8011722, 0x17c07c1f, 0x1950001f,
	0x1000660c, 0x80881401, 0xd8011582, 0x17c07c1f, 0x1950001f, 0x10006164,
	0x80801401, 0xd8211722, 0x17c07c1f, 0x18c0001f, 0x10006608, 0xe0c0000c,
	0x1a80001f, 0x10006208, 0xc0c0b840, 0x17c07c1f, 0xe8208000, 0x10006530,
	0x00000000, 0x18c0001f, 0x10006780, 0x1910001f, 0x10006780, 0xa11c0404,
	0xe0c00004, 0x8080a001, 0xd8011ac2, 0x17c07c1f, 0x1950001f, 0x1000660c,
	0x80889401, 0xd8011922, 0x17c07c1f, 0x1950001f, 0x10006164, 0x80809401,
	0xd8211ac2, 0x17c07c1f, 0x18c0001f, 0x10006608, 0xe0c0000c, 0x1a80001f,
	0x1000620c, 0xc0c0b840, 0x17c07c1f, 0xe8208000, 0x10006534, 0x00000000,
	0x18c0001f, 0x10006780, 0x1910001f, 0x10006780, 0xa11c8404, 0xe0c00004,
	0x1880001f, 0x10006620, 0x18d0001f, 0x10006620, 0xa0d08403, 0xe0800003,
	0x1890001f, 0x1000664c, 0x89400002, 0xffff0000, 0x6aa00005, 0xbeef0000,
	0xd801012a, 0x17c07c1f, 0x1200041f, 0x6aa00005, 0xabcd0000, 0xd8011eca,
	0x17c07c1f, 0x12007c1f, 0x6aa00005, 0x50d10000, 0xd8011eca, 0x17c07c1f,
	0x6aa00005, 0xdcba0000, 0xd8011eca, 0x17c07c1f, 0x1b80001f, 0x200002a8,
	0xd0011ac0, 0x17c07c1f, 0x81f20407, 0x81f28407, 0x81f48407, 0x1990001f,
	0x10006600, 0xa9800006, 0xf8000000, 0x18d0001f, 0x10006658, 0x80cf8c01,
	0xa19c0c06, 0xe8208000, 0x100060b0, 0x00000000, 0xe8208000, 0x100065f0,
	0x00000000, 0x18c0001f, 0x1000661c, 0x1910001f, 0x1000661c, 0x89000004,
	0x8000ffff, 0xe0c00004, 0x808c9801, 0xd82122a2, 0x17c07c1f, 0x1900001f,
	0x55ffffff, 0xd00122e0, 0x17c07c1f, 0x1900001f, 0xaaffffff, 0x18c0001f,
	0x10006460, 0xe0c00004, 0x18c0001f, 0x10006470, 0x1900001f, 0x0003ff7f,
	0xe0c00004, 0x81550406, 0xa1402005, 0xd8016fa5, 0x17c07c1f, 0xe8208000,
	0x10006604, 0x00000000, 0xe8208000, 0x10006780, 0x00000000, 0xe8208000,
	0x10006608, 0x00000000, 0xa1d48407, 0x815a8406, 0xd82126a5, 0x17c07c1f,
	0xa1908406, 0x81570406, 0xd80126a5, 0x17c07c1f, 0xa1dd8407, 0x81fc0407,
	0x1b00001f, 0xffffffff, 0xa1dc0407, 0x1b00001f, 0x00000100, 0xe8208000,
	0x10006080, 0x00000100, 0x81439801, 0xd8012c65, 0x17c07c1f, 0x1b80001f,
	0xd00f0000, 0x81fc8407, 0x18c0001f, 0x10006608, 0xe0c0000c, 0x8a40000c,
	0xffffffff, 0xd8212ce9, 0x17c07c1f, 0xc280b4e0, 0x129a841f, 0x18d0001f,
	0x10006174, 0x82450c01, 0x81058c01, 0x82401009, 0xd82129a9, 0x17c07c1f,
	0x1a90001f, 0x10006574, 0x1930000a, 0x17c07c1f, 0x81300404, 0x1880001f,
	0x1000664c, 0x18c0001f, 0x00000000, 0xe0800003, 0xe2800004, 0xa1100404,
	0xe2800004, 0xd0016920, 0x17c07c1f, 0x81fc0407, 0x13007c1f, 0x1b80001f,
	0xd000aaaa, 0x81fc0407, 0x13007c1f, 0x80889801, 0xd8212da2, 0x17c07c1f,
	0xa0158400, 0x81401801, 0xd8013aa5, 0x17c07c1f, 0x80c41801, 0xd8012e83,
	0x17c07c1f, 0x81f60407, 0x1a90001f, 0x10006574, 0xc0c0b5e0, 0x17c07c1f,
	0x1a90001f, 0x10006570, 0xc0c0ba60, 0x17c07c1f, 0xe8208000, 0x10006408,
	0x00000201, 0xe8208000, 0x1000640c, 0x06003600, 0x1b80001f, 0xa0000044,
	0x18d0001f, 0x10006168, 0x88c00003, 0x00000201, 0x69200003, 0x00000201,
	0x18d0001f, 0x1000616c, 0x88c00003, 0x06003600, 0x69600003, 0x06003600,
	0x81001404, 0xd8013304, 0x17c07c1f, 0x1880001f, 0x10006028, 0xe0b02db2,
	0xd0013080, 0x17c07c1f, 0x1ac0001f, 0x10006200, 0x18b0000b, 0x17c07c1f,
	0x1900001f, 0x102007c0, 0x1950001f, 0x102007c0, 0x8a400005, 0xfffff9ff,
	0xe1000009, 0x1b80001f, 0x20000044, 0xa0908402, 0xe2c00002, 0xa0928402,
	0xe2c00002, 0xa0940402, 0xe2c00002, 0x1b80001f, 0xa0000001, 0x1950001f,
	0x10006200, 0x810c1401, 0xd8213564, 0x17c07c1f, 0x1ac0001f, 0x10006200,
	0x18b0000b, 0x17c07c1f, 0xa0938402, 0xe2c00002, 0x80b00402, 0xe2c00002,
	0xa0920402, 0xe2c00002, 0x80b10402, 0xe2c00002, 0x80b18402, 0xe2c00002,
	0x1b80001f, 0x20000044, 0xe8208000, 0x10006290, 0x00000007, 0xc280b4e0,
	0x1296041f, 0x81fc0407, 0x1b00001f, 0xffffffff, 0xa1dc0407, 0x18c0001f,
	0x10006608, 0x81fc8407, 0xe0c0000c, 0x8a40000c, 0xffffffff, 0xd80158a9,
	0x17c07c1f, 0x1b00001f, 0x00000000, 0xa1dc0407, 0x1b00001f, 0x00000100,
	0x1b80001f, 0xa0000001, 0x81481801, 0xd8013d45, 0x17c07c1f, 0x1a40001f,
	0x10006350, 0x1900001f, 0xffffff00, 0xe2400004, 0x1900001f, 0x00ffff00,
	0xe2400004, 0x17c07c1f, 0x17c07c1f, 0x1900001f, 0x0000ff00, 0xe2400004,
	0x81449801, 0xd8014225, 0x17c07c1f, 0x1910001f, 0x1000660c, 0x81059001,
	0xd8013fe4, 0x17c07c1f, 0x1910001f, 0x10006610, 0x81011001, 0xd8013f64,
	0x17c07c1f, 0x1a80001f, 0x0000000c, 0xd0013fa0, 0x17c07c1f, 0x1a80001f,
	0x00000008, 0x1b80001f, 0xa0000001, 0x1910001f, 0x1000660c, 0x81061001,
	0xd8014224, 0x17c07c1f, 0x1910001f, 0x10006610, 0x81019001, 0xd80141a4,
	0x17c07c1f, 0x1a80001f, 0x0000000e, 0xd00141e0, 0x17c07c1f, 0x1a80001f,
	0x0000000a, 0x1b80001f, 0xa0000001, 0x18c0001f, 0x1000647c, 0x1880001f,
	0x00000001, 0xe0c00002, 0x18d0001f, 0x1000647c, 0xa1540802, 0x71301403,
	0xd80142c4, 0x17c07c1f, 0x1b80001f, 0xa0000001, 0x81fc0407, 0x1b00001f,
	0xffffffff, 0x1a40001f, 0x00002d7f, 0x81fc0407, 0x1b00001f, 0xffffffff,
	0x18c0001f, 0x00002120, 0x814a9801, 0xd8214885, 0x17c07c1f, 0x1a40001f,
	0x00000000, 0x18c0001f, 0x00000000, 0x81469801, 0xd8014885, 0x17c07c1f,
	0x1a40001f, 0x00002140, 0x18c0001f, 0x00002100, 0x81461801, 0xd8014885,
	0x17c07c1f, 0x1a40001f, 0x00002d70, 0x18c0001f, 0x00002120, 0x81471801,
	0xd8214885, 0x17c07c1f, 0x1a40001f, 0x00002d7f, 0x18c0001f, 0x00002120,
	0x1900001f, 0x10006080, 0xe1000009, 0xa1dc0407, 0x13000c1f, 0xa1dc0407,
	0x1b80001f, 0x90100000, 0x80cd9801, 0xc8e00003, 0x17c07c1f, 0x80ce1801,
	0xc8e026a3, 0x17c07c1f, 0x80cf1801, 0xc8e06c63, 0x17c07c1f, 0x80cf9801,
	0xc8e08623, 0x17c07c1f, 0x80ce9801, 0xc8e02ea3, 0x17c07c1f, 0x18d0001f,
	0x10006160, 0x80c40c01, 0xc8c03d23, 0x17c07c1f, 0x81fc8407, 0x18c0001f,
	0x10006608, 0xe0c0000c, 0xe8208000, 0x100060c4, 0xffffffff, 0xe8208000,
	0x100060b0, 0x00000000, 0x1900001f, 0x1000647c, 0xe100001f, 0xa1dc0407,
	0x1b00001f, 0x00000100, 0x81fc0407, 0x13007c1f, 0xe8208000, 0x10006080,
	0x00000100, 0x1b80001f, 0xa0000001, 0x81449801, 0xd8015385, 0x17c07c1f,
	0x1910001f, 0x1000660c, 0x81061001, 0xd8015144, 0x17c07c1f, 0x1910001f,
	0x10006610, 0x81019001, 0xd8015104, 0x17c07c1f, 0x1a80001f, 0x0000000f,
	0xd0015140, 0x17c07c1f, 0x1a80001f, 0x0000000b, 0x1910001f, 0x1000660c,
	0x81059001, 0xd8015344, 0x17c07c1f, 0x1910001f, 0x10006610, 0x81011001,
	0xd8015304, 0x17c07c1f, 0x1a80001f, 0x0000000d, 0xd0015340, 0x17c07c1f,
	0x1a80001f, 0x00000009, 0x1b80001f, 0x20004fb9, 0x81481801, 0xd8015865,
	0x17c07c1f, 0x1a40001f, 0x10006350, 0x1910001f, 0x10006350, 0x1900001f,
	0x0001ff00, 0xe2400004, 0x1900001f, 0x0003ff00, 0xe2400004, 0x1900001f,
	0x0007ff00, 0xe2400004, 0x1900001f, 0x000fff00, 0xe2400004, 0x1900001f,
	0x001fff00, 0xe2400004, 0x1900001f, 0x003fff00, 0xe2400004, 0x1900001f,
	0x007fff00, 0xe2400004, 0x1900001f, 0x00ffff00, 0xe2400004, 0x1b80001f,
	0x20000052, 0x1900001f, 0xffffff00, 0xe2400004, 0x1900001f, 0xffff0000,
	0xe2400004, 0x1b80001f, 0xa0000001, 0x1880001f, 0x1000664c, 0x18c0001f,
	0x00000000, 0xe0800003, 0x18d0001f, 0x10006164, 0x80c98c01, 0x1900001f,
	0x1000641c, 0x1950001f, 0x1000641c, 0xa1598c05, 0xe1000005, 0x18c0001f,
	0x1000601c, 0x1910001f, 0x1000601c, 0xa9000004, 0x0b160000, 0x81328404,
	0xe0c00004, 0x81401801, 0xd80168a5, 0x17c07c1f, 0xe8208000, 0x10006290,
	0x00000000, 0x1ac0001f, 0x10006200, 0x1890001f, 0x10006200, 0xa0910402,
	0xe2c00002, 0xa0918402, 0xe2c00002, 0x1b80001f, 0x20000044, 0x1950001f,
	0x10006180, 0x1b80001f, 0xa0000001, 0x1950001f, 0x10006180, 0x81071401,
	0x1950001f, 0x10006184, 0x81471401, 0x81001404, 0xd8215d64, 0x17c07c1f,
	0x1ac0001f, 0x10006200, 0x1890001f, 0x10006200, 0x80b08402, 0xe2c00002,
	0x1950001f, 0x10006610, 0x81409401, 0xd8016205, 0x17c07c1f, 0x80b38402,
	0xe2c00002, 0x80b40402, 0xe2c00002, 0x1b80001f, 0xa0000001, 0x1950001f,
	0x10006200, 0x810c1401, 0xd80160e4, 0x17c07c1f, 0xd0016400, 0x17c07c1f,
	0x1ac0001f, 0x10006200, 0x18b0000b, 0x17c07c1f, 0xa0960402, 0xe2c00002,
	0x80b38402, 0xe2c00002, 0x1b80001f, 0x20000044, 0x1ac0001f, 0x10006200,
	0x18b0000b, 0x17c07c1f, 0xa0930402, 0xe2c00002, 0x1ac0001f, 0x10006200,
	0x18b0000b, 0x17c07c1f, 0x80b28402, 0xe2c00002, 0x1b80001f, 0x20000044,
	0x80b20402, 0xe2c00002, 0xa0900402, 0xe2c00002, 0x1900001f, 0x102007c0,
	0x1950001f, 0x102007c0, 0xa8800005, 0x00000200, 0xe1000002, 0xe8208000,
	0x10006408, 0x00000000, 0xe8208000, 0x1000640c, 0x04003400, 0x1b80001f,
	0xa00002a8, 0x1a90001f, 0x10006570, 0xc0c0c2c0, 0x17c07c1f, 0x1b80001f,
	0xa00002a8, 0x1a90001f, 0x10006574, 0xc0c0b840, 0x17c07c1f, 0x80889801,
	0xd8016922, 0x17c07c1f, 0x80358400, 0x814a9801, 0xb14a18a1, 0xd8016a05,
	0x17c07c1f, 0xe8208000, 0x10006034, 0x000f0000, 0x81570406, 0xd8016a85,
	0x17c07c1f, 0x81fd8407, 0x81f48407, 0xa1d60407, 0x81f10407, 0x18c0001f,
	0x1000641c, 0x1910001f, 0x10006164, 0x1950001f, 0x1000641c, 0x81499401,
	0xa1199404, 0xe0c00004, 0x18c0001f, 0x10006420, 0x1910001f, 0x10006150,
	0xe0c00004, 0x18c0001f, 0x10006424, 0x1910001f, 0x1000614c, 0xe0c00004,
	0x1b80001f, 0xa0000001, 0x18c0001f, 0x10006614, 0x1910001f, 0x10006614,
	0x09000004, 0x00000001, 0xe0c00004, 0xa1dc0407, 0x1b00001f, 0x00000000,
	0x1ac0001f, 0x55aa55aa, 0xd0011ac0, 0x17c07c1f, 0x81429801, 0xd8017585,
	0x17c07c1f, 0x18c0001f, 0x10006604, 0x1910001f, 0x10006604, 0xa1180404,
	0xe0c00004, 0xe8208000, 0x10006080, 0x00000100, 0x81fc0407, 0x1b00001f,
	0x00000001, 0xa1dc0407, 0x1b00001f, 0x00000100, 0x18d0001f, 0x1000660c,
	0x80ce8c01, 0xd8017323, 0x17c07c1f, 0xc0c03d20, 0x17c07c1f, 0x18c0001f,
	0x10006604, 0x1910001f, 0x10006604, 0x813e8404, 0xe0c00004, 0x1ac0001f,
	0x77887788, 0x1950001f, 0x10006610, 0x81439401, 0xd8017585, 0x17c07c1f,
	0xa0148400, 0x81fc0407, 0x80348400, 0x18d0001f, 0x1000660c, 0x80cf0c01,
	0xd8017543, 0x17c07c1f, 0xd0010120, 0x17c07c1f, 0xd0011ac0, 0x17c07c1f,
	0xf0000000, 0x17c07c1f, 0x18c0001f, 0x10006604, 0x1910001f, 0x10006604,
	0x81380404, 0xe0c00004, 0xf0000000, 0x17c07c1f
};
static struct pcm_desc suspend_pcm = {
	.version	= "spm_fw_all_in_one_v02_19012022_linzhang",
	.base		= suspend_binary,
	.size		= 2998,
	.sess		= 2,
	.replace	= 0,
	.vec0		= EVENT_VEC(32, 1, 0, 0),	/* FUNC_26M_WAKEUP */
	.vec1		= EVENT_VEC(33, 1, 0, 139),	/* FUNC_26M_SLEEP */
	.vec2		= EVENT_VEC(34, 1, 0, 309),	/* FUNC_INFRA_WAKEUP */
	.vec3		= EVENT_VEC(35, 1, 0, 345),	/* FUNC_INFRA_SLEEP */
	.vec4		= EVENT_VEC(36, 1, 0, 373),	/* FUNC_APSRC_WAKEUP */
	.vec5		= EVENT_VEC(37, 1, 0, 414),	/* FUNC_APSRC_SLEEP */
	.vec8		= EVENT_VEC(40, 1, 0, 489),	/* FUNC_DVFS_STATE_ALL */
	.vec10		= EVENT_VEC(38, 1, 0, 867),	/* FUNC_VRF18_WAKEUP */
	.vec11		= EVENT_VEC(39, 1, 0, 961),	/* FUNC_VRF18_SLEEP */
	.vec6		= EVENT_VEC(44, 1, 0, 1073),	/* FUNC_DDREN_WAKEUP */
	.vec13		= EVENT_VEC(45, 1, 0, 1088),	/* FUNC_DDREN_SLEEP */
};

static void spm_add_dram_type_control(struct pwr_ctrl *pwrctrl, bool print_log)
{
	uint32_t dram_type;

	dram_type = (mmio_read_32(DRAMC_REG_ARBCTL) & 0x1c00) >> 10;
	__spmfw_idx = dram_type;

	switch (dram_type) {
	case TYPE_PSRAM:
		if (print_log == 1)
			INFO("0x1022c010 = 0x%x, PCDDR3\n", dram_type);
		pwrctrl->pcm_flags |= SPM_FLAG_PSRAM;
		break;
	case TYPE_LPDDR3:
		if (print_log == 1)
			INFO("0x1022c010 = 0x%x, LPDDR3\n", dram_type);
		pwrctrl->pcm_flags |= SPM_FLAG_LPDDR3;
		break;
	case TYPE_LPDDR4:
		if (print_log == 1)
			INFO("0x1022c010 = 0x%x, LPDDR4\n", dram_type);
		pwrctrl->pcm_flags |= SPM_FLAG_LPDDR4;
		break;
	default:
		if (print_log == 1)
			INFO("0x1022c010 = 0x%x, unknown dram type\n",
			     dram_type);
	}
}

const char *spm_get_firmware_version(void)
{
	return suspend_pcm.version;
}

void spm_lock_init(void)
{
	bakery_lock_init(&spm_lock);
}

void spm_lock_get(void)
{
	bakery_lock_get(&spm_lock);
}

void spm_lock_release(void)
{
	bakery_lock_release(&spm_lock);
}

#define SPM_FW_MAGIC    0x53504D32

static uint64_t spm_base_addr;
static int dyna_load_pcm_done = 1;

struct dyna_load_pcm_t dyna_load_pcm[DYNA_LOAD_PCM_MAX];

#pragma pack(push)
#pragma pack(2)
struct spm_fw_header {
	unsigned int magic;
	unsigned int size;
	char name[58];
};
#pragma pack(pop)

char *spm_load_firmware(char *name)
{
	struct spm_fw_header *header;
	char *addr;

	addr = 0;
	header = (struct spm_fw_header *) spm_base_addr;

	while (header->magic == SPM_FW_MAGIC) {
		if (!strcmp(header->name, name))
			break;

		header = (struct spm_fw_header *) (((char *) header) + sizeof(*header) + header->size);
	}

	if (header->magic == SPM_FW_MAGIC) {
		addr = (((char *) header) + sizeof(*header));
		return addr;
	}

	return NULL;
}

uint64_t spm_load_firmware_status(void)
{
	uint64_t bRet = 0;

	if (dyna_load_pcm_done) {
		bRet = SPM_FIRMWARE_STATUS_LOADED;
		if (mmio_read_32(PCM_REG15_DATA) != 0)
			bRet = SPM_FIRMWARE_STATUS_LOADED_KICKED;
	}
	return bRet;
}

void spm_irq0_handler(uint64_t x1)
{
	mmio_write_32(SPM_IRQ_MASK, mmio_read_32(SPM_IRQ_MASK) | ISRM_ALL_EXC_TWAM);
	mmio_write_32(SPM_IRQ_STA, x1);
	mmio_write_32(SPM_SWINT_CLR, PCM_SW_INT0);
}

void spm_ap_mdsrc_req(uint64_t x1)
{
	if (x1)
		mmio_write_32(AP_MDSRC_REQ, mmio_read_32(AP_MDSRC_REQ) | AP_MDSMSRC_REQ_LSB);
	else
		mmio_write_32(AP_MDSRC_REQ, mmio_read_32(AP_MDSRC_REQ) & ~AP_MDSMSRC_REQ_LSB);
}

/* code gen by spm_pwr_ctrl_atf.pl, need struct pwr_ctrl */
void save_pwr_ctrl(struct pwr_ctrl *pwrctrl, unsigned int index, unsigned int val)
{
	switch (index) {
	case PWR_PCM_FLAGS:
		pwrctrl->pcm_flags = val;
		break;
	case PWR_PCM_FLAGS_CUST:
		pwrctrl->pcm_flags_cust = val;
		break;
	case PWR_PCM_FLAGS_CUST_SET:
		pwrctrl->pcm_flags_cust_set = val;
		break;
	case PWR_PCM_FLAGS_CUST_CLR:
		pwrctrl->pcm_flags_cust_clr = val;
		break;
	case PWR_PCM_FLAGS1:
		pwrctrl->pcm_flags1 = val;
		break;
	case PWR_PCM_FLAGS1_CUST:
		pwrctrl->pcm_flags1_cust = val;
		break;
	case PWR_PCM_FLAGS1_CUST_SET:
		pwrctrl->pcm_flags1_cust_set = val;
		break;
	case PWR_PCM_FLAGS1_CUST_CLR:
		pwrctrl->pcm_flags1_cust_clr = val;
		break;
	case PWR_TIMER_VAL:
		pwrctrl->timer_val = val;
		break;
	case PWR_TIMER_VAL_CUST:
		pwrctrl->timer_val_cust = val;
		break;
	case PWR_TIMER_VAL_RAMP_EN:
		pwrctrl->timer_val_ramp_en = val;
		break;
	case PWR_TIMER_VAL_RAMP_EN_SEC:
		pwrctrl->timer_val_ramp_en_sec = val;
		break;
	case PWR_WAKE_SRC:
		pwrctrl->wake_src = val;
		break;
	case PWR_WAKE_SRC_CUST:
		pwrctrl->wake_src_cust = val;
		break;
	case PWR_WAKELOCK_TIMER_VAL:
		pwrctrl->wakelock_timer_val = val;
		break;
	case PWR_WDT_DISABLE:
		pwrctrl->wdt_disable = val;
		break;
	/* SPM_AP_STANDBY_CON */
	case PWR_WFI_OP:
		pwrctrl->wfi_op = val;
		break;
	case PWR_MP0_CPUTOP_IDLE_MASK:
		pwrctrl->mp0_cputop_idle_mask = val;
		break;
	case PWR_MP1_CPUTOP_IDLE_MASK:
		pwrctrl->mp1_cputop_idle_mask = val;
		break;
	case PWR_MCUSYS_IDLE_MASK:
		pwrctrl->mcusys_idle_mask = val;
		break;
	case PWR_MM_MASK_B:
		pwrctrl->mm_mask_b = val;
		break;
	case PWR_MD_DDR_EN_0_DBC_EN:
		pwrctrl->md_ddr_en_0_dbc_en = val;
		break;
	case PWR_MD_DDR_EN_1_DBC_EN:
		pwrctrl->md_ddr_en_1_dbc_en = val;
		break;
	case PWR_MD_MASK_B:
		pwrctrl->md_mask_b = val;
		break;
	case PWR_SSPM_MASK_B:
		pwrctrl->sspm_mask_b = val;
		break;
	case PWR_SCP_MASK_B:
		pwrctrl->scp_mask_b = val;
		break;
	case PWR_SRCCLKENI_MASK_B:
		pwrctrl->srcclkeni_mask_b = val;
		break;
	case PWR_MD_APSRC_1_SEL:
		pwrctrl->md_apsrc_1_sel = val;
		break;
	case PWR_MD_APSRC_0_SEL:
		pwrctrl->md_apsrc_0_sel = val;
		break;
	case PWR_CONN_DDR_EN_DBC_EN:
		pwrctrl->conn_ddr_en_dbc_en = val;
		break;
	case PWR_CONN_MASK_B:
		pwrctrl->conn_mask_b = val;
		break;
	case PWR_CONN_APSRC_SEL:
		pwrctrl->conn_apsrc_sel = val;
		break;
	case PWR_CONN_SRCCLKENA_SEL_MASK:
		pwrctrl->conn_srcclkena_sel_mask = val;
		break;
	/* SPM_SRC_REQ */
	case PWR_SPM_APSRC_REQ:
		pwrctrl->spm_apsrc_req = val;
		break;
	case PWR_SPM_F26M_REQ:
		pwrctrl->spm_f26m_req = val;
		break;
	case PWR_SPM_INFRA_REQ:
		pwrctrl->spm_infra_req = val;
		break;
	case PWR_SPM_VRF18_REQ:
		pwrctrl->spm_vrf18_req = val;
		break;
	case PWR_SPM_DDREN_REQ:
		pwrctrl->spm_ddren_req = val;
		break;
	case PWR_SPM_RSV_SRC_REQ:
		pwrctrl->spm_rsv_src_req = val;
		break;
	case PWR_SPM_DDREN_2_REQ:
		pwrctrl->spm_ddren_2_req = val;
		break;
	case PWR_CPU_MD_DVFS_SOP_FORCE_ON:
		pwrctrl->cpu_md_dvfs_sop_force_on = val;
		break;
	/* SPM_SRC_MASK */
	case PWR_CSYSPWREQ_MASK:
		pwrctrl->csyspwreq_mask = val;
		break;
	case PWR_CCIF0_MD_EVENT_MASK_B:
		pwrctrl->pcm_flags2 = val;
		break;
	case PWR_CCIF0_AP_EVENT_MASK_B:
		pwrctrl->pcm_flags2_cust_set = val;
		break;
	case PWR_CCIF1_MD_EVENT_MASK_B:
		pwrctrl->pcm_flags2_cust_clr = val;
		break;
	case PWR_CCIF1_AP_EVENT_MASK_B:
		pwrctrl->ccif1_ap_event_mask_b = val;
		break;
	case PWR_CCIF2_MD_EVENT_MASK_B:
		pwrctrl->ccif2_md_event_mask_b = val;
		break;
	case PWR_CCIF2_AP_EVENT_MASK_B:
		pwrctrl->ccif2_ap_event_mask_b = val;
		break;
	case PWR_CCIF3_MD_EVENT_MASK_B:
		pwrctrl->ccif3_md_event_mask_b = val;
		break;
	case PWR_CCIF3_AP_EVENT_MASK_B:
		pwrctrl->ccif3_ap_event_mask_b = val;
		break;
	case PWR_MD_SRCCLKENA_0_INFRA_MASK_B:
		pwrctrl->md_srcclkena_0_infra_mask_b = val;
		break;
	case PWR_MD_SRCCLKENA_1_INFRA_MASK_B:
		pwrctrl->md_srcclkena_1_infra_mask_b = val;
		break;
	case PWR_CONN_SRCCLKENA_INFRA_MASK_B:
		pwrctrl->conn_srcclkena_infra_mask_b = val;
		break;
	case PWR_UFS_INFRA_REQ_MASK_B:
		pwrctrl->ufs_infra_req_mask_b = val;
		break;
	case PWR_SRCCLKENI_INFRA_MASK_B:
		pwrctrl->srcclkeni_infra_mask_b = val;
		break;
	case PWR_MD_APSRC_REQ_0_INFRA_MASK_B:
		pwrctrl->md_apsrc_req_0_infra_mask_b = val;
		break;
	case PWR_MD_APSRC_REQ_1_INFRA_MASK_B:
		pwrctrl->md_apsrc_req_1_infra_mask_b = val;
		break;
	case PWR_CONN_APSRCREQ_INFRA_MASK_B:
		pwrctrl->conn_apsrcreq_infra_mask_b = val;
		break;
	case PWR_UFS_SRCCLKENA_MASK_B:
		pwrctrl->ufs_srcclkena_mask_b = val;
		break;
	case PWR_MD_VRF18_REQ_0_MASK_B:
		pwrctrl->md_vrf18_req_0_mask_b = val;
		break;
	case PWR_MD_VRF18_REQ_1_MASK_B:
		pwrctrl->md_vrf18_req_1_mask_b = val;
		break;
	case PWR_UFS_VRF18_REQ_MASK_B:
		pwrctrl->ufs_vrf18_req_mask_b = val;
		break;
	case PWR_GCE_VRF18_REQ_MASK_B:
		pwrctrl->gce_vrf18_req_mask_b = val;
		break;
	case PWR_CONN_INFRA_REQ_MASK_B:
		pwrctrl->conn_infra_req_mask_b = val;
		break;
	case PWR_GCE_APSRC_REQ_MASK_B:
		pwrctrl->gce_apsrc_req_mask_b = val;
		break;
	case PWR_DISP0_APSRC_REQ_MASK_B:
		pwrctrl->disp0_apsrc_req_mask_b = val;
		break;
	case PWR_DISP1_APSRC_REQ_MASK_B:
		pwrctrl->disp1_apsrc_req_mask_b = val;
		break;
	case PWR_MFG_REQ_MASK_B:
		pwrctrl->mfg_req_mask_b = val;
		break;
	case PWR_VDEC_REQ_MASK_B:
		pwrctrl->vdec_req_mask_b = val;
		break;
	case PWR_MCU_APSRCREQ_INFRA_MASK_B:
		pwrctrl->mcu_apsrcreq_infra_mask_b = val;
		break;
	/* SPM_SRC2_MASK */
	case PWR_MD_DDR_EN_0_MASK_B:
		pwrctrl->md_ddr_en_0_mask_b = val;
		break;
	case PWR_MD_DDR_EN_1_MASK_B:
		pwrctrl->md_ddr_en_1_mask_b = val;
		break;
	case PWR_CONN_DDR_EN_MASK_B:
		pwrctrl->conn_ddr_en_mask_b = val;
		break;
	case PWR_DDREN_MD32_APSRC_REQ_MASK_B:
		pwrctrl->ddren_md32_apsrc_req_mask_b = val;
		break;
	case PWR_DDREN_SCP_APSRC_REQ_MASK_B:
		pwrctrl->ddren_scp_apsrc_req_mask_b = val;
		break;
	case PWR_DISP0_DDREN_MASK_B:
		pwrctrl->disp0_ddren_mask_b = val;
		break;
	case PWR_DISP1_DDREN_MASK_B:
		pwrctrl->disp1_ddren_mask_b = val;
		break;
	case PWR_GCE_DDREN_MASK_B:
		pwrctrl->gce_ddren_mask_b = val;
		break;
	case PWR_DDREN_EMI_SELF_REFRESH_CH0_MASK_B:
		pwrctrl->ddren_emi_self_refresh_ch0_mask_b = val;
		break;
	case PWR_DDREN_EMI_SELF_REFRESH_CH1_MASK_B:
		pwrctrl->ddren_emi_self_refresh_ch1_mask_b = val;
		break;
	case PWR_MCU_APSRC_REQ_MASK_B:
		pwrctrl->mcu_apsrc_req_mask_b = val;
		break;
	case PWR_MCU_DDREN_MASK_B:
		pwrctrl->mcu_ddren_mask_b = val;
		break;
	/* SPM_WAKEUP_EVENT_MASK */
	case PWR_SPM_WAKEUP_EVENT_MASK:
		pwrctrl->spm_wakeup_event_mask = val;
		break;
	/* SPM_WAKEUP_EVENT_EXT_MASK */
	case PWR_SPM_WAKEUP_EVENT_EXT_MASK:
		pwrctrl->spm_wakeup_event_ext_mask = val;
		break;
	/* SPM_SRC3_MASK */
	case PWR_MD_DDR_EN_2_0_MASK_B:
		pwrctrl->md_ddr_en_2_0_mask_b = val;
		break;
	case PWR_MD_DDR_EN_2_1_MASK_B:
		pwrctrl->md_ddr_en_2_1_mask_b = val;
		break;
	case PWR_CONN_DDR_EN_2_MASK_B:
		pwrctrl->conn_ddr_en_2_mask_b = val;
		break;
	case PWR_DDREN2_MD32_APSRC_REQ_MASK_B:
		pwrctrl->ddren2_md32_apsrc_req_mask_b = val;
		break;
	case PWR_DDREN2_SCP_APSRC_REQ_MASK_B:
		pwrctrl->ddren2_scp_apsrc_req_mask_b = val;
		break;
	case PWR_DISP0_DDREN2_MASK_B:
		pwrctrl->disp0_ddren2_mask_b = val;
		break;
	case PWR_DISP1_DDREN2_MASK_B:
		pwrctrl->disp1_ddren2_mask_b = val;
		break;
	case PWR_GCE_DDREN2_MASK_B:
		pwrctrl->gce_ddren2_mask_b = val;
		break;
	case PWR_DDREN2_EMI_SELF_REFRESH_CH0_MASK_B:
		pwrctrl->ddren2_emi_self_refresh_ch0_mask_b = val;
		break;
	case PWR_DDREN2_EMI_SELF_REFRESH_CH1_MASK_B:
		pwrctrl->ddren2_emi_self_refresh_ch1_mask_b = val;
		break;
	case PWR_MCU_DDREN_2_MASK_B:
		pwrctrl->mcu_ddren_2_mask_b = val;
		break;
	/* SPARE_SRC_REQ_MASK */
	case PWR_SPARE1_DDREN_MASK_B:
		pwrctrl->spare1_ddren_mask_b = val;
		break;
	case PWR_SPARE1_APSRC_REQ_MASK_B:
		pwrctrl->spare1_apsrc_req_mask_b = val;
		break;
	case PWR_SPARE1_VRF18_REQ_MASK_B:
		pwrctrl->spare1_vrf18_req_mask_b = val;
		break;
	case PWR_SPARE1_INFRA_REQ_MASK_B:
		pwrctrl->spare1_infra_req_mask_b = val;
		break;
	case PWR_SPARE1_SRCCLKENA_MASK_B:
		pwrctrl->spare1_srcclkena_mask_b = val;
		break;
	case PWR_SPARE1_DDREN2_MASK_B:
		pwrctrl->spare1_ddren2_mask_b = val;
		break;
	case PWR_SPARE2_DDREN_MASK_B:
		pwrctrl->spare2_ddren_mask_b = val;
		break;
	case PWR_SPARE2_APSRC_REQ_MASK_B:
		pwrctrl->spare2_apsrc_req_mask_b = val;
		break;
	case PWR_SPARE2_VRF18_REQ_MASK_B:
		pwrctrl->spare2_vrf18_req_mask_b = val;
		break;
	case PWR_SPARE2_INFRA_REQ_MASK_B:
		pwrctrl->spare2_infra_req_mask_b = val;
		break;
	case PWR_SPARE2_SRCCLKENA_MASK_B:
		pwrctrl->spare2_srcclkena_mask_b = val;
		break;
	case PWR_SPARE2_DDREN2_MASK_B:
		pwrctrl->spare2_ddren2_mask_b = val;
		break;
	/* MP0_CPU0_WFI_EN */
	case PWR_MP0_CPU0_WFI_EN:
		pwrctrl->mp0_cpu0_wfi_en = val;
		break;
	/* MP0_CPU1_WFI_EN */
	case PWR_MP0_CPU1_WFI_EN:
		pwrctrl->mp0_cpu1_wfi_en = val;
		break;
	/* MP0_CPU2_WFI_EN */
	case PWR_MP0_CPU2_WFI_EN:
		pwrctrl->mp0_cpu2_wfi_en = val;
		break;
	/* MP0_CPU3_WFI_EN */
	case PWR_MP0_CPU3_WFI_EN:
		pwrctrl->mp0_cpu3_wfi_en = val;
		break;
	/* MP1_CPU0_WFI_EN */
	case PWR_MP1_CPU0_WFI_EN:
		pwrctrl->mp1_cpu0_wfi_en = val;
		break;
	/* MP1_CPU1_WFI_EN */
	case PWR_MP1_CPU1_WFI_EN:
		pwrctrl->mp1_cpu1_wfi_en = val;
		break;
	/* MP1_CPU2_WFI_EN */
	case PWR_MP1_CPU2_WFI_EN:
		pwrctrl->mp1_cpu2_wfi_en = val;
		break;
	/* MP1_CPU3_WFI_EN */
	case PWR_MP1_CPU3_WFI_EN:
		pwrctrl->mp1_cpu3_wfi_en = val;
		break;
	/* IDLE CONTROL */
	case PWR_IDLE_SWITCH:
		pwrctrl->idle_switch = val;
		break;
	case PWR_BY_SWT:
		pwrctrl->by_swt = val;
		break;
	case PWR_BY_BOOT:
		pwrctrl->by_boot = val;
		break;
	case PWR_BY_CPU:
		pwrctrl->by_cpu = val;
		break;
	case PWR_BY_CLK:
		pwrctrl->by_clk = val;
		break;
	case PWR_BY_GPT:
		pwrctrl->by_gpt = val;
		break;
	case PWR_CPU0_CNT:
		pwrctrl->cpu_cnt[0] = val;
		break;
	case PWR_CPU1_CNT:
		pwrctrl->cpu_cnt[1] = val;
		break;
	case PWR_CPU2_CNT:
		pwrctrl->cpu_cnt[2] = val;
		break;
	case PWR_CPU3_CNT:
		pwrctrl->cpu_cnt[3] = val;
		break;
	case PWR_INFRA1_IDLE_MASK:
		pwrctrl->infra1_idle_mask = val;
		break;
	case PWR_INFRA0_IDLE_MASK:
		pwrctrl->infra0_idle_mask = val;
		break;
	case PWR_INFRA2_IDLE_MASK:
		pwrctrl->infra2_idle_mask = val;
		break;
	case PWR_INFRA3_IDLE_MASK:
		pwrctrl->infra3_idle_mask = val;
		break;
	case PWR_INFRA4_IDLE_MASK:
		pwrctrl->infra4_idle_mask = val;
		break;
	case PWR_MMSYS0_IDLE_MASK:
		pwrctrl->mmsys0_idle_mask = val;
		break;
	case PWR_MMSYS_OTH_IDLE_MASK:
		pwrctrl->mmsys_oth_idle_mask = val;
		break;
	case PWR_IMAGE0_IDLE_MASK:
		pwrctrl->image0_idle_mask = val;
		break;
	case PWR_IMAGE1_IDLE_MASK:
		pwrctrl->image1_idle_mask = val;
		break;
	case PWR_IMAGE_OTH_IDLE_MASK:
		pwrctrl->image_oth_idle_mask = val;
		break;
	case PWR_LOG_EN:
		pwrctrl->log_en = val;
		break;
	case PWR_PCM_ADD_FAKE_26M_FLAG:
		pwrctrl->pcm_flags |= SPM_FLAG_FAKE_26M_FUNC;
		break;
	case PWR_PCM_REMOVE_FAKE_26M_FLAG:
		pwrctrl->pcm_flags &= ~SPM_FLAG_FAKE_26M_FUNC;
		break;
	case PWR_PCM_ADD_FLAG1_DIS_TOP_26M_CLK_OFF:
		pwrctrl->pcm_flags1 |= SPM_FLAG1_DIS_TOP_26M_CLK_OFF;
		break;
	case PWR_PCM_REMOVE_FLAG1_DIS_TOP_26M_CLK_OFF:
		pwrctrl->pcm_flags1 &= ~SPM_FLAG1_DIS_TOP_26M_CLK_OFF;
		break;
	default:

			ERROR("%s: %d is undefined!!!\n", __func__, index);
	}
}

/* code gen by spm_pwr_ctrl_atf.pl, need struct pwr_ctrl */
unsigned int load_pwr_ctrl(struct pwr_ctrl *pwrctrl, unsigned int index)
{
	unsigned int val = 0;

	switch (index) {
	case PWR_PCM_FLAGS:
		val = pwrctrl->pcm_flags;
		break;
	case PWR_PCM_FLAGS_CUST:
		val = pwrctrl->pcm_flags_cust;
		break;
	case PWR_PCM_FLAGS_CUST_SET:
		val = pwrctrl->pcm_flags_cust_set;
		break;
	case PWR_PCM_FLAGS_CUST_CLR:
		val = pwrctrl->pcm_flags_cust_clr;
		break;
	case PWR_PCM_FLAGS1:
		val = pwrctrl->pcm_flags1;
		break;
	case PWR_PCM_FLAGS1_CUST:
		val = pwrctrl->pcm_flags1_cust;
		break;
	case PWR_PCM_FLAGS1_CUST_SET:
		val = pwrctrl->pcm_flags1_cust_set;
		break;
	case PWR_PCM_FLAGS1_CUST_CLR:
		val = pwrctrl->pcm_flags1_cust_clr;
		break;
	case PWR_TIMER_VAL:
		val = pwrctrl->timer_val;
		break;
	case PWR_TIMER_VAL_CUST:
		val = pwrctrl->timer_val_cust;
		break;
	case PWR_TIMER_VAL_RAMP_EN:
		val = pwrctrl->timer_val_ramp_en;
		break;
	case PWR_TIMER_VAL_RAMP_EN_SEC:
		val = pwrctrl->timer_val_ramp_en_sec;
		break;
	case PWR_WAKE_SRC:
		val = pwrctrl->wake_src;
		break;
	case PWR_WAKE_SRC_CUST:
		val = pwrctrl->wake_src_cust;
		break;
	case PWR_WAKELOCK_TIMER_VAL:
		val = pwrctrl->wakelock_timer_val;
		break;
	case PWR_WDT_DISABLE:
		val = pwrctrl->wdt_disable;
		break;
	/* SPM_AP_STANDBY_CON */
	case PWR_WFI_OP:
		val = pwrctrl->wfi_op;
		break;
	case PWR_MP0_CPUTOP_IDLE_MASK:
		val = pwrctrl->mp0_cputop_idle_mask;
		break;
	case PWR_MP1_CPUTOP_IDLE_MASK:
		val = pwrctrl->mp1_cputop_idle_mask;
		break;
	case PWR_MCUSYS_IDLE_MASK:
		val = pwrctrl->mcusys_idle_mask;
		break;
	case PWR_MM_MASK_B:
		val = pwrctrl->mm_mask_b;
		break;
	case PWR_MD_DDR_EN_0_DBC_EN:
		val = pwrctrl->md_ddr_en_0_dbc_en;
		break;
	case PWR_MD_DDR_EN_1_DBC_EN:
		val = pwrctrl->md_ddr_en_1_dbc_en;
		break;
	case PWR_MD_MASK_B:
		val = pwrctrl->md_mask_b;
		break;
	case PWR_SSPM_MASK_B:
		val = pwrctrl->sspm_mask_b;
		break;
	case PWR_SCP_MASK_B:
		val = pwrctrl->scp_mask_b;
		break;
	case PWR_SRCCLKENI_MASK_B:
		val = pwrctrl->srcclkeni_mask_b;
		break;
	case PWR_MD_APSRC_1_SEL:
		val = pwrctrl->md_apsrc_1_sel;
		break;
	case PWR_MD_APSRC_0_SEL:
		val = pwrctrl->md_apsrc_0_sel;
		break;
	case PWR_CONN_DDR_EN_DBC_EN:
		val = pwrctrl->conn_ddr_en_dbc_en;
		break;
	case PWR_CONN_MASK_B:
		val = pwrctrl->conn_mask_b;
		break;
	case PWR_CONN_APSRC_SEL:
		val = pwrctrl->conn_apsrc_sel;
		break;
	case PWR_CONN_SRCCLKENA_SEL_MASK:
		val = pwrctrl->conn_srcclkena_sel_mask;
		break;
		/* SPM_SRC_REQ */
	case PWR_SPM_APSRC_REQ:
		val = pwrctrl->spm_apsrc_req;
		break;
	case PWR_SPM_F26M_REQ:
		val = pwrctrl->spm_f26m_req;
		break;
	case PWR_SPM_INFRA_REQ:
		val = pwrctrl->spm_infra_req;
		break;
	case PWR_SPM_VRF18_REQ:
		val = pwrctrl->spm_vrf18_req;
		break;
	case PWR_SPM_DDREN_REQ:
		val = pwrctrl->spm_ddren_req;
		break;
	case PWR_SPM_RSV_SRC_REQ:
		val = pwrctrl->spm_rsv_src_req;
		break;
	case PWR_SPM_DDREN_2_REQ:
		val = pwrctrl->spm_ddren_2_req;
		break;
	case PWR_CPU_MD_DVFS_SOP_FORCE_ON:
		val = pwrctrl->cpu_md_dvfs_sop_force_on;
		break;
	/* SPM_SRC_MASK */
	case PWR_CSYSPWREQ_MASK:
		val = pwrctrl->csyspwreq_mask;
		break;
	case PWR_CCIF0_MD_EVENT_MASK_B:
		val = pwrctrl->pcm_flags2;
		break;
	case PWR_CCIF0_AP_EVENT_MASK_B:
		val = pwrctrl->pcm_flags2_cust_set;
		break;
	case PWR_CCIF1_MD_EVENT_MASK_B:
		val = pwrctrl->pcm_flags2_cust_clr;
		break;
	case PWR_CCIF1_AP_EVENT_MASK_B:
		val = pwrctrl->ccif1_ap_event_mask_b;
		break;
	case PWR_CCIF2_MD_EVENT_MASK_B:
		val = pwrctrl->ccif2_md_event_mask_b;
		break;
	case PWR_CCIF2_AP_EVENT_MASK_B:
		val = pwrctrl->ccif2_ap_event_mask_b;
		break;
	case PWR_CCIF3_MD_EVENT_MASK_B:
		val = pwrctrl->ccif3_md_event_mask_b;
		break;
	case PWR_CCIF3_AP_EVENT_MASK_B:
		val = pwrctrl->ccif3_ap_event_mask_b;
		break;
	case PWR_MD_SRCCLKENA_0_INFRA_MASK_B:
		val = pwrctrl->md_srcclkena_0_infra_mask_b;
		break;
	case PWR_MD_SRCCLKENA_1_INFRA_MASK_B:
		val = pwrctrl->md_srcclkena_1_infra_mask_b;
		break;
	case PWR_CONN_SRCCLKENA_INFRA_MASK_B:
		val = pwrctrl->conn_srcclkena_infra_mask_b;
		break;
	case PWR_UFS_INFRA_REQ_MASK_B:
		val = pwrctrl->ufs_infra_req_mask_b;
		break;
	case PWR_SRCCLKENI_INFRA_MASK_B:
		val = pwrctrl->srcclkeni_infra_mask_b;
		break;
	case PWR_MD_APSRC_REQ_0_INFRA_MASK_B:
		val = pwrctrl->md_apsrc_req_0_infra_mask_b;
		break;
	case PWR_MD_APSRC_REQ_1_INFRA_MASK_B:
		val = pwrctrl->md_apsrc_req_1_infra_mask_b;
		break;
	case PWR_CONN_APSRCREQ_INFRA_MASK_B:
		val = pwrctrl->conn_apsrcreq_infra_mask_b;
		break;
	case PWR_UFS_SRCCLKENA_MASK_B:
		val = pwrctrl->ufs_srcclkena_mask_b;
		break;
	case PWR_MD_VRF18_REQ_0_MASK_B:
		val = pwrctrl->md_vrf18_req_0_mask_b;
		break;
	case PWR_MD_VRF18_REQ_1_MASK_B:
		val = pwrctrl->md_vrf18_req_1_mask_b;
		break;
	case PWR_UFS_VRF18_REQ_MASK_B:
		val = pwrctrl->ufs_vrf18_req_mask_b;
		break;
	case PWR_GCE_VRF18_REQ_MASK_B:
		val = pwrctrl->gce_vrf18_req_mask_b;
		break;
	case PWR_CONN_INFRA_REQ_MASK_B:
		val = pwrctrl->conn_infra_req_mask_b;
		break;
	case PWR_GCE_APSRC_REQ_MASK_B:
		val = pwrctrl->gce_apsrc_req_mask_b;
		break;
	case PWR_DISP0_APSRC_REQ_MASK_B:
		val = pwrctrl->disp0_apsrc_req_mask_b;
		break;
	case PWR_DISP1_APSRC_REQ_MASK_B:
		val = pwrctrl->disp1_apsrc_req_mask_b;
		break;
	case PWR_MFG_REQ_MASK_B:
		val = pwrctrl->mfg_req_mask_b;
		break;
	case PWR_VDEC_REQ_MASK_B:
		val = pwrctrl->vdec_req_mask_b;
		break;
	case PWR_MCU_APSRCREQ_INFRA_MASK_B:
		val = pwrctrl->mcu_apsrcreq_infra_mask_b;
		break;
	/* SPM_SRC2_MASK */
	case PWR_MD_DDR_EN_0_MASK_B:
		val = pwrctrl->md_ddr_en_0_mask_b;
		break;
	case PWR_MD_DDR_EN_1_MASK_B:
		val = pwrctrl->md_ddr_en_1_mask_b;
		break;
	case PWR_CONN_DDR_EN_MASK_B:
		val = pwrctrl->conn_ddr_en_mask_b;
		break;
	case PWR_DDREN_MD32_APSRC_REQ_MASK_B:
		val = pwrctrl->ddren_md32_apsrc_req_mask_b;
		break;
	case PWR_DDREN_SCP_APSRC_REQ_MASK_B:
		val = pwrctrl->ddren_scp_apsrc_req_mask_b;
		break;
	case PWR_DISP0_DDREN_MASK_B:
		val = pwrctrl->disp0_ddren_mask_b;
		break;
	case PWR_DISP1_DDREN_MASK_B:
		val = pwrctrl->disp1_ddren_mask_b;
		break;
	case PWR_GCE_DDREN_MASK_B:
		val = pwrctrl->gce_ddren_mask_b;
		break;
	case PWR_DDREN_EMI_SELF_REFRESH_CH0_MASK_B:
		val = pwrctrl->ddren_emi_self_refresh_ch0_mask_b;
		break;
	case PWR_DDREN_EMI_SELF_REFRESH_CH1_MASK_B:
		val = pwrctrl->ddren_emi_self_refresh_ch1_mask_b;
		break;
	case PWR_MCU_APSRC_REQ_MASK_B:
		val = pwrctrl->mcu_apsrc_req_mask_b;
		break;
	case PWR_MCU_DDREN_MASK_B:
		val = pwrctrl->mcu_ddren_mask_b;
		break;
	/* SPM_WAKEUP_EVENT_MASK */
	case PWR_SPM_WAKEUP_EVENT_MASK:
		val = pwrctrl->spm_wakeup_event_mask;
		break;
	/* SPM_WAKEUP_EVENT_EXT_MASK */
	case PWR_SPM_WAKEUP_EVENT_EXT_MASK:
		val = pwrctrl->spm_wakeup_event_ext_mask;
		break;
	/* SPM_SRC3_MASK */
	case PWR_MD_DDR_EN_2_0_MASK_B:
		val = pwrctrl->md_ddr_en_2_0_mask_b;
		break;
	case PWR_MD_DDR_EN_2_1_MASK_B:
		val = pwrctrl->md_ddr_en_2_1_mask_b;
		break;
	case PWR_CONN_DDR_EN_2_MASK_B:
		val = pwrctrl->conn_ddr_en_2_mask_b;
		break;
	case PWR_DDREN2_MD32_APSRC_REQ_MASK_B:
		val = pwrctrl->ddren2_md32_apsrc_req_mask_b;
		break;
	case PWR_DDREN2_SCP_APSRC_REQ_MASK_B:
		val = pwrctrl->ddren2_scp_apsrc_req_mask_b;
		break;
	case PWR_DISP0_DDREN2_MASK_B:
		val = pwrctrl->disp0_ddren2_mask_b;
		break;
	case PWR_DISP1_DDREN2_MASK_B:
		val = pwrctrl->disp1_ddren2_mask_b;
		break;
	case PWR_GCE_DDREN2_MASK_B:
		val = pwrctrl->gce_ddren2_mask_b;
		break;
	case PWR_DDREN2_EMI_SELF_REFRESH_CH0_MASK_B:
		val = pwrctrl->ddren2_emi_self_refresh_ch0_mask_b;
		break;
	case PWR_DDREN2_EMI_SELF_REFRESH_CH1_MASK_B:
		val = pwrctrl->ddren2_emi_self_refresh_ch1_mask_b;
		break;
	case PWR_MCU_DDREN_2_MASK_B:
		val = pwrctrl->mcu_ddren_2_mask_b;
		break;
	/* SPARE_SRC_REQ_MASK */
	case PWR_SPARE1_DDREN_MASK_B:
		val = pwrctrl->spare1_ddren_mask_b;
		break;
	case PWR_SPARE1_APSRC_REQ_MASK_B:
		val = pwrctrl->spare1_apsrc_req_mask_b;
		break;
	case PWR_SPARE1_VRF18_REQ_MASK_B:
		val = pwrctrl->spare1_vrf18_req_mask_b;
		break;
	case PWR_SPARE1_INFRA_REQ_MASK_B:
		val = pwrctrl->spare1_infra_req_mask_b;
		break;
	case PWR_SPARE1_SRCCLKENA_MASK_B:
		val = pwrctrl->spare1_srcclkena_mask_b;
		break;
	case PWR_SPARE1_DDREN2_MASK_B:
		val = pwrctrl->spare1_ddren2_mask_b;
		break;
	case PWR_SPARE2_DDREN_MASK_B:
		val = pwrctrl->spare2_ddren_mask_b;
		break;
	case PWR_SPARE2_APSRC_REQ_MASK_B:
		val = pwrctrl->spare2_apsrc_req_mask_b;
		break;
	case PWR_SPARE2_VRF18_REQ_MASK_B:
		val = pwrctrl->spare2_vrf18_req_mask_b;
		break;
	case PWR_SPARE2_INFRA_REQ_MASK_B:
		val = pwrctrl->spare2_infra_req_mask_b;
		break;
	case PWR_SPARE2_SRCCLKENA_MASK_B:
		val = pwrctrl->spare2_srcclkena_mask_b;
		break;
	case PWR_SPARE2_DDREN2_MASK_B:
		val = pwrctrl->spare2_ddren2_mask_b;
		break;
	/* MP0_CPU0_WFI_EN */
	case PWR_MP0_CPU0_WFI_EN:
		val = pwrctrl->mp0_cpu0_wfi_en;
		break;
	/* MP0_CPU1_WFI_EN */
	case PWR_MP0_CPU1_WFI_EN:
		val = pwrctrl->mp0_cpu1_wfi_en;
		break;
	/* MP0_CPU2_WFI_EN */
	case PWR_MP0_CPU2_WFI_EN:
		val = pwrctrl->mp0_cpu2_wfi_en;
		break;
	/* MP0_CPU3_WFI_EN */
	case PWR_MP0_CPU3_WFI_EN:
		val = pwrctrl->mp0_cpu3_wfi_en;
		break;
	/* MP1_CPU0_WFI_EN */
	case PWR_MP1_CPU0_WFI_EN:
		val = pwrctrl->mp1_cpu0_wfi_en;
		break;
	/* MP1_CPU1_WFI_EN */
	case PWR_MP1_CPU1_WFI_EN:
		val = pwrctrl->mp1_cpu1_wfi_en;
		break;
	/* MP1_CPU2_WFI_EN */
	case PWR_MP1_CPU2_WFI_EN:
		val = pwrctrl->mp1_cpu2_wfi_en;
		break;
	/* MP1_CPU3_WFI_EN */
	case PWR_MP1_CPU3_WFI_EN:
		val = pwrctrl->mp1_cpu3_wfi_en;
		break;
	/* IDLE CONTROL */
	case PWR_IDLE_SWITCH:
		val = pwrctrl->idle_switch;
		break;
	case PWR_BY_SWT:
		val = pwrctrl->by_swt;
		break;
	case PWR_BY_BOOT:
		val = pwrctrl->by_boot;
		break;
	case PWR_BY_CPU:
		val = pwrctrl->by_cpu;
		break;
	case PWR_BY_CLK:
		val = pwrctrl->by_clk;
		break;
	case PWR_BY_GPT:
		val = pwrctrl->by_gpt;
		break;
	case PWR_CPU0_CNT:
		val = pwrctrl->cpu_cnt[0];
		break;
	case PWR_CPU1_CNT:
		val = pwrctrl->cpu_cnt[1];
		break;
	case PWR_CPU2_CNT:
		val = pwrctrl->cpu_cnt[2];
		break;
	case PWR_CPU3_CNT:
		val = pwrctrl->cpu_cnt[3];
		break;
	case PWR_INFRA1_IDLE_MASK:
		val = pwrctrl->infra1_idle_mask;
		break;
	case PWR_INFRA0_IDLE_MASK:
		val = pwrctrl->infra0_idle_mask;
		break;
	case PWR_INFRA2_IDLE_MASK:
		val = pwrctrl->infra2_idle_mask;
		break;
	case PWR_INFRA3_IDLE_MASK:
		val = pwrctrl->infra3_idle_mask;
		break;
	case PWR_INFRA4_IDLE_MASK:
		val = pwrctrl->infra4_idle_mask;
		break;
	case PWR_MMSYS0_IDLE_MASK:
		val = pwrctrl->mmsys0_idle_mask;
		break;
	case PWR_MMSYS_OTH_IDLE_MASK:
		val = pwrctrl->mmsys_oth_idle_mask;
		break;
	case PWR_IMAGE0_IDLE_MASK:
		val = pwrctrl->image0_idle_mask;
		break;
	case PWR_IMAGE1_IDLE_MASK:
		val = pwrctrl->image1_idle_mask;
		break;
	case PWR_IMAGE_OTH_IDLE_MASK:
		val = pwrctrl->image_oth_idle_mask;
		break;
	case PWR_INFRA1_IDLE_RG:
		val = spm_get_infra1_sta();
		break;
	case PWR_INFRA0_IDLE_RG:
		val = spm_get_infra0_sta();
		break;
	case PWR_INFRA2_IDLE_RG:
		val = spm_get_infra2_sta();
		break;
	case PWR_INFRA3_IDLE_RG:
		val = spm_get_infra3_sta();
		break;
	case PWR_INFRA4_IDLE_RG:
		val = spm_get_infra4_sta();
		break;
	case PWR_MMSYS0_IDLE_RG:
		val = spm_get_mmsys_con0();
		break;
	case PWR_MMSYS_OTH_IDLE_RG:
		val = spm_get_mmsys_oth();
		break;
	case PWR_IMAGE0_IDLE_RG:
		val = spm_get_image_con0();
		break;
	case PWR_IMAGE1_IDLE_RG:
		val = spm_get_image_con1();
		break;
	case PWR_IMAGE_OTH_IDLE_RG:
		val = spm_get_image_oth();
		break;
	case PWR_LOG_EN:
		val = pwrctrl->log_en;
		break;
	default:
			ERROR("%s: %d is undefined!!!\n", __func__, index);
	}

	return val;
}

void spm_pwr_ctrl_args(uint64_t x1, uint64_t x2, uint64_t x3)
{
	switch (x1) {
	case SPM_PWR_CTRL_SUSPEND:
		save_pwr_ctrl(__spm_suspend.pwrctrl, x2, x3);
		break;
	case SPM_PWR_CTRL_DPIDLE:
		save_pwr_ctrl(__spm_dpidle.pwrctrl, x2, x3);
		break;
	case SPM_PWR_CTRL_VCOREFS:
		save_pwr_ctrl(__spm_vcorefs.pwrctrl, x2, x3);
		break;
	case SPM_PWR_CTRL_MCDI:
		save_pwr_ctrl(__spm_mcdi.pwrctrl, x2, x3);
		break;
	}
}

uint64_t spm_get_pwr_ctrl_args(uint64_t x1, uint64_t x2, uint64_t x3)
{
	uint64_t ret = 0;

	switch (x1) {
	case SPM_PWR_CTRL_SUSPEND:
		ret = load_pwr_ctrl(__spm_suspend.pwrctrl, x2);
		break;
	case SPM_PWR_CTRL_DPIDLE:
		ret = load_pwr_ctrl(__spm_dpidle.pwrctrl, x2);
		break;
	case SPM_PWR_CTRL_VCOREFS:
		ret = load_pwr_ctrl(__spm_vcorefs.pwrctrl, x2);
		break;
	case SPM_PWR_CTRL_MCDI:
		ret = load_pwr_ctrl(__spm_mcdi.pwrctrl, x2);
		break;
	}

	return ret;
}

void spm_dcs_s1_setting(uint64_t x1, uint64_t x2)
{
	/* FIXME: */
#if 0
	uint32_t enable = x1;
	uint32_t flags = x2;

	mmio_write_32(DRAMC_DPY_CLK_SW_CON5, mmio_read_32(DRAMC_DPY_CLK_SW_CON5) | flags);
	while ((mmio_read_32(DRAMC_DPY_CLK_SW_CON5) & (0xf << 4)) != (flags << 4))
		;

	if (!!enable)
		mmio_write_32(SPM_SPARE_CON_SET, flags << 24);
	else
		mmio_write_32(SPM_SPARE_CON_CLR, flags << 24);

	mmio_write_32(DRAMC_DPY_CLK_SW_CON5, mmio_read_32(DRAMC_DPY_CLK_SW_CON5) & ~flags);
	while ((mmio_read_32(DRAMC_DPY_CLK_SW_CON5) & (0xf << 4)) != 0)
		;
#endif
}

void spm_dummy_read(uint64_t x1, uint64_t x2)
{
	/* FIXME: */
#if 0
	uint32_t rank0_addr = x1;
	uint32_t rank1_addr = x2;

	mmio_write_32(SPM_PASR_DPD_2, rank0_addr & 0xffffffff);
	mmio_write_32(SPM_PASR_DPD_3, rank1_addr & 0xffffffff);
	if ((x1 >> 32) & 0x1)
		mmio_write_32(SPM_SW_RSV_5, mmio_read_32(SPM_SW_RSV_5) | (1 << 3));
	else
		mmio_write_32(SPM_SW_RSV_5, mmio_read_32(SPM_SW_RSV_5) & ~(1 << 3));
	if ((x2 >> 32) & 0x1)
		mmio_write_32(SPM_SW_RSV_5, mmio_read_32(SPM_SW_RSV_5) | (1 << 4));
	else
		mmio_write_32(SPM_SW_RSV_5, mmio_read_32(SPM_SW_RSV_5) & ~(1 << 4));
#endif
}

uint32_t __spmfw_idx;
uint32_t is_ext_buck;

void spm_args(uint64_t x1, uint64_t x2, uint64_t x3)
{
	uint64_t cmd = x1;

	switch (cmd) {
	case SPM_ARGS_SPMFW_IDX:
		__spmfw_idx = x2;
		is_ext_buck = x3;
		break;
	case SPM_ARGS_SPMFW_INIT:
#if !defined(MTK_FPGA_EARLY_PORTING)
		console_init(gteearg.atf_log_port, UART_CLOCK, UART_BAUDRATE);
		console_uninit();
#endif /* MTK_FPGA_EARLY_PORTING */
		break;
	case SPM_ARGS_SUSPEND:
		spm_suspend();
		break;
	case SPM_ARGS_SUSPEND_FINISH:
		spm_suspend_finish();
		break;
	case SPM_ARGS_DPIDLE:
		spm_dpidle();
		break;
	case SPM_ARGS_DPIDLE_FINISH:
		spm_dpidle_finish();
		break;
	case SPM_ARGS_MCDI:
		spm_mcdi();
		break;
	case SPM_ARGS_MCDI_FINISH:
		spm_mcdi_finish();
		break;
	default:
		break;
	}
}

/*add code for debug*/
#define INFRA_AO_BASE (0x10001000)
#define INFRA_AO_BASE_CON0 (INFRA_AO_BASE + 0x500)
#define INFRA_AO_BASE_CON1 (INFRA_AO_BASE + 0x504)
#define INFRA_AO_BASE_CON2 (INFRA_AO_BASE + 0x508)
#define INFRA_AO_BASE_CON3 (INFRA_AO_BASE + 0x50C)

void spm_register_init(void)
{
	uint32_t spm_clk_con;

	/* enable register control */
	mmio_write_32(POWERON_CONFIG_EN,
		      SPM_REGWR_CFG_KEY | BCLK_CG_EN_LSB | MD_BCLK_CG_EN_LSB |
		      AUDAFE_MTCMOS_EN_LSB | AUDSRC_MTCMOS_EN_LSB);

	mmio_write_32(0x10007044, mmio_read_32(0x10007044) | 0x95000021);
	/* init power control register */
	mmio_write_32(SPM_POWER_ON_VAL1, POWER_ON_VAL1_DEF);
	mmio_write_32(PCM_PWR_IO_EN, 0);

	/* reset PCM */
	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB | PCM_SW_RESET_LSB);
	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB);
	if ((mmio_read_32(PCM_FSM_STA) & 0x7fffff) != PCM_FSM_STA_DEF)
		ERROR("PCM reset failed\n");

	/* init PCM control register */
	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB | EN_IM_SLEEP_DVS_LSB);
	mmio_write_32(PCM_CON1, SPM_REGWR_CFG_KEY | EVENT_LOCK_EN_LSB |
		      SPM_SRAM_ISOINT_B_LSB | MIF_APBEN_LSB | SCP_APB_INTERNAL_EN_LSB);
	mmio_write_32(PCM_IM_PTR, 0);
	mmio_write_32(PCM_IM_LEN, 0);

	spm_clk_con = SYSCLK1_EN_CTRL | SYS_SETTLE_SEL_LSB |
		      SPM_LOCK_INFRA_DCM_LSB | EXT_SRCCLKEN_MASK |
		      CLKSQ1_SEL_CTRL_LSB | SRCLKEN0_EN_LSB |
		      SCP_DCM_EN_LSB | SYSCLK1_SRC_MASK_B;
	mmio_write_32(SPM_CLK_CON, spm_clk_con);

	/* clean wakeup event raw status */
	mmio_write_32(SPM_WAKEUP_EVENT_MASK, SPM_WAKEUP_EVENT_MASK_DEF);

	/* clean ISR status */
	mmio_write_32(SPM_IRQ_MASK, ISRM_ALL);
	mmio_write_32(SPM_IRQ_STA, ISRC_ALL);
	mmio_write_32(SPM_SWINT_CLR, PCM_SW_INT_ALL);

	/* init r7 with POWER_ON_VAL1 */
	mmio_write_32(PCM_REG_DATA_INI, mmio_read_32(SPM_POWER_ON_VAL1));
	mmio_write_32(PCM_PWR_IO_EN, PCM_RF_SYNC_R7);
	mmio_write_32(PCM_PWR_IO_EN, 0);

	mmio_write_32(DDR_EN_DBC_LEN,
		      MD_DDR_EN_0_DBC_LEN |
		      MD_DDR_EN_1_DBC_LEN |
		      CONN_DDR_EN_DBC_LEN);
	mmio_write_32(SPM_PC_TRACE_CON, 0x1 | SPM_PC_TRACE_HW_EN_LSB);

	mmio_write_32(PCM_DEBUG_CON, 0x1);
	mmio_write_32(INFRA_AO_BASE_CON0,mmio_read_32(INFRA_AO_BASE_CON0)| (0x1 << 11));
	mmio_write_32(INFRA_AO_BASE_CON1,mmio_read_32(INFRA_AO_BASE_CON1)| (0x1 << 11));
	mmio_write_32(INFRA_AO_BASE_CON2,mmio_read_32(INFRA_AO_BASE_CON2)| (0x1 << 11));
	mmio_write_32(INFRA_AO_BASE_CON3,mmio_read_32(INFRA_AO_BASE_CON3)| (0x1 << 11));

	mmio_write_32(INFRA_AO_BASE_CON0,mmio_read_32(INFRA_AO_BASE_CON0)| (0x17 << 5));
	mmio_write_32(INFRA_AO_BASE_CON1,mmio_read_32(INFRA_AO_BASE_CON1)| (0x18 << 5));
	mmio_write_32(INFRA_AO_BASE_CON2,mmio_read_32(INFRA_AO_BASE_CON2)| (0x29 << 5));
	mmio_write_32(INFRA_AO_BASE_CON3,mmio_read_32(INFRA_AO_BASE_CON3)| (0x2a << 5));

	mmio_write_32(SPM_SW_RSV_5, mmio_read_32(SPM_SW_RSV_5) & ~(0xffff));

}

void spm_boot_init(void)
{
	spm_lock_init();
	spm_add_dram_type_control(__spm_suspend.pwrctrl, 1); /* suspend */
	spm_add_dram_type_control(__spm_dpidle.pwrctrl, 0);  /* dpidle */
	spm_add_dram_type_control(__spm_vcorefs.pwrctrl, 0); /* vcore dvfs */
	spm_register_init();
	__spm_reset_and_init_pcm(&suspend_pcm);
	__spm_kick_im_to_fetch(&suspend_pcm);
	__spm_init_pcm_register();
	__spm_init_event_vector(&suspend_pcm);
	__spm_cmd_check(PCM_DVFS_INI_CMD);
	ERROR("%s: SPM_SW_FLAG1 = 0x%x\n", spm_get_firmware_version(), spm_read(SPM_SW_FLAG));
	__spm_kick_pcm_to_run();
}

void spm_legacy_sleep_wfi(uint64_t x1, uint64_t x2, uint64_t x3)
{
	unsigned long mpidr;

	/* Enable the gic cpu interface */
	gic_cpuif_init();

	/* Get the mpidr for this cpu */
	mpidr = read_mpidr_el1();

	/*
	 * Enter standby state. dsb is good practice before using wfi
	 * to enter low power states.
	 */
	isb();
	dsb();

	/* Disable coherency if this cluster is to be turned off */

	plat_cci_disable();
	disable_scu(mpidr);

	wfi();

	/* Enable coherency if this cluster was off */
	enable_scu(mpidr);
	plat_cci_enable();
}

void spm_set_bootaddr(unsigned long bootaddr)
{
	/* initialize core4~7 boot entry address */
	mmio_write_32(SW2SPM_MAILBOX_3, bootaddr);
}
